# 프로젝트 구조 정리 계획서

**작성일**: 2025-01-27  
**프로젝트명**: 심리학 서비스 웹 포털 통합 프로젝트

---

## 📋 현재 상황 분석

### 현재 프로젝트 구조

```
Pj-main/
├── apps/
│   ├── portal/                    # Next.js 메인 포털 (기본 구조만 존재)
│   │   └── app/
│   │       ├── mnps/             # MNPS 링크만 존재
│   │       ├── second-genesis/   # Second Genesis 링크만 존재
│   │       └── page.tsx          # 메인 페이지 (MNPS, Second Genesis 카드만 표시)
│   │
│   ├── mnps/
│   │   ├── mnps-service/         # Express 기반 MNPS 서비스 ⚠️ (블로그 포함, 분리 필요)
│   │   │   ├── blog/            # 블로그 기능 (분리 대상)
│   │   │   ├── pages/           # HTML 페이지들
│   │   │   ├── routes/          # Express 라우터
│   │   │   └── server.js        # Express 서버 (블로그 API 포함)
│   │   │
│   │   ├── dark-nature-web/     # Next.js 기반 (문의 게시판 포함)
│   │   │   └── app/contact/     # 문의 페이지
│   │   │
│   │   └── _LEGACY/             # 레거시 코드 (참고용)
│   │
│   └── second-genesis/
│       └── Strategic_Pivot/      # Next.js 기반 Second Genesis (완성본) ✅
```

### 주요 문제점

1. **포털 통합 부족**: `portal`이 메인 포털이지만 실제 서비스로 연결되지 않음
2. **블로그 분리 필요**: `mnps-service`에 블로그가 포함되어 있음
3. **게시판 위치 불명확**: 게시판 기능이 어디에 구현되어 있는지 불명확
4. **서비스 소개 페이지 부재**: 서비스 소개 페이지가 없음
5. **문의 게시판 위치**: `dark-nature-web`에 있는 것으로 보이지만 통합 필요

---

## 🎯 목표 구조

### 최종 목표 아키텍처

```
Pj-main/
├── apps/
│   ├── portal/                           # Next.js 통합 메인 포털
│   │   ├── app/
│   │   ├── page.tsx                 # 메인 랜딩 페이지
│   │   ├── layout.tsx               # 공통 레이아웃 (네비게이션 포함)
│   │   │
│   │   ├── services/                # 서비스 소개
│   │   │   └── page.tsx
│   │   │
│   │   ├── mnps/                    # MNPS 테스트
│   │   │   ├── page.tsx            # MNPS 메인 페이지
│   │   │   └── test/               # MNPS 테스트 (mnps-service 연동 또는 마이그레이션)
│   │   │
│   │   ├── second-genesis/          # Second Genesis (기존 유지)
│   │   │   └── [기존 구조 유지]
│   │   │
│   │   ├── blog/                    # 블로그 (분리)
│   │   │   ├── page.tsx            # 블로그 목록
│   │   │   └── [slug]/             # 블로그 상세
│   │   │
│   │   ├── board/                   # 게시판 (분리)
│   │   │   ├── page.tsx            # 게시판 목록
│   │   │   └── [id]/               # 게시글 상세
│   │   │
│   │   └── contact/                 # 문의 게시판
│   │       └── page.tsx
│   │
│   │   ├── lib/                         # 공통 라이브러리
│   │   │   └── api/                     # API 클라이언트
│   │   │       ├── blog.ts             # 블로그 API
│   │   │       ├── board.ts            # 게시판 API
│   │   │       └── contact.ts          # 문의 API
│   │   │
│   │   └── package.json
│   │
│   ├── mnps/
│   │   └── mnps-service/                # Express 백엔드 (MNPS 전용)
│   │       ├── pages/                   # MNPS HTML 페이지만
│   │       ├── routes/
│   │       │   ├── api.js              # MNPS API만
│   │       │   ├── auth.js             # 인증
│   │       │   └── view.js             # 뷰 라우터
│   │       └── server.js               # MNPS 전용 서버
│   │
│   └── second-genesis/                  # 기존 유지
│       └── Strategic_Pivot/
```

---

## 📝 단계별 구현 계획

### Phase 1: 현재 상태 정리 및 분석 (1일)

#### 1.1 현재 코드베이스 상세 분석
- [ ] `mnps-service`의 블로그 기능 코드 분석
- [ ] 게시판 기능 존재 여부 확인 (dark-nature-web, mnps-service 등)
- [ ] 문의 게시판 기능 확인 (`dark-nature-web/app/contact`)
- [ ] Second Genesis 완성본 확인
- [ ] 각 서비스의 데이터베이스 구조 파악

#### 1.2 의존성 및 기술 스택 정리
- [ ] portal: Next.js 16.1.1, React 19.2.3, TypeScript
- [ ] mnps-service: Express, SQLite/MySQL, Node.js
- [ ] Second Genesis: Next.js 16.1.1, React 19.2.3, TypeScript

---

### Phase 2: 포털 메인 페이지 구축 (2일)

#### 2.1 메인 페이지 확장
- [ ] `apps/portal/app/page.tsx` 확장
  - 서비스 소개 섹션 추가
  - MNPS 테스트 카드
  - Second Genesis 카드
  - 블로그 카드
  - 게시판 카드
  - 문의 게시판 카드

#### 2.2 공통 레이아웃 개선
- [ ] `apps/portal/app/layout.tsx` 개선
  - 네비게이션 메뉴 구성
    - 홈
    - 서비스 소개
    - MNPS
    - Second Genesis
    - 블로그
    - 게시판
    - 문의
  - 반응형 디자인
  - 다크 테마 적용

---

### Phase 3: 서비스 소개 페이지 구현 (1일)

#### 3.1 서비스 소개 페이지
- [ ] `apps/portal/app/services/page.tsx` 생성
  - 전체 서비스 소개
  - MNPS 서비스 설명
  - Second Genesis 서비스 설명
  - 각 서비스 특징 및 활용 방법

---

### Phase 4: 블로그 기능 분리 및 통합 (3일)

#### 4.1 블로그 데이터 마이그레이션 계획
- [ ] `mnps-service/blog` 폴더 구조 분석
- [ ] 블로그 데이터베이스 구조 확인 (`blog.db`)
- [ ] 블로그 API 엔드포인트 확인 (`server.js`의 `/api/blog/*`)

#### 4.2 Next.js 블로그 구현
- [ ] `apps/portal/app/blog/page.tsx` 생성 (블로그 목록)
- [ ] `apps/portal/app/blog/[slug]/page.tsx` 생성 (블로그 상세)
- [ ] `apps/portal/lib/api/blog.ts` 생성 (블로그 API 클라이언트)
- [ ] 블로그 데이터베이스 연동 방법 결정
  - 옵션 A: mnps-service의 Express 서버를 API 서버로 활용
  - 옵션 B: 데이터베이스를 직접 접근 (권장하지 않음)
  - 옵션 C: 블로그 데이터를 JSON으로 마이그레이션

#### 4.3 블로그 스타일링
- [ ] 블로그 목록 UI 구현
- [ ] 블로그 상세 UI 구현
- [ ] 반응형 디자인 적용

#### 4.4 mnps-service에서 블로그 제거
- [ ] `apps/mnps/mnps-service/server.js`에서 블로그 관련 코드 제거
- [ ] `apps/mnps/mnps-service/blog` 폴더 정리 (백업 후 제거 또는 별도 저장)

---

### Phase 5: 게시판 기능 구현 (3일)

#### 5.1 게시판 기능 분석
- [ ] 기존 게시판 기능 존재 여부 확인
- [ ] 게시판 요구사항 정의
  - 글 목록 조회
  - 글 작성
  - 글 수정/삭제
  - 댓글 기능 (선택사항)

#### 5.2 게시판 데이터베이스 설계
- [ ] 게시판 테이블 구조 설계
- [ ] 데이터베이스 선택 (SQLite 또는 MySQL)

#### 5.3 게시판 API 구현
- [ ] 옵션 A: apps/portal 내부 API Route 구현 (`apps/portal/app/api/board/`)
- [ ] 옵션 B: 별도 Express 서버 구현
- [ ] 게시판 CRUD API 구현

#### 5.4 게시판 UI 구현
- [ ] `apps/portal/app/board/page.tsx` 생성 (게시판 목록)
- [ ] `apps/portal/app/board/[id]/page.tsx` 생성 (게시글 상세)
- [ ] `apps/portal/app/board/write/page.tsx` 생성 (글 작성)
- [ ] `apps/portal/lib/api/board.ts` 생성 (게시판 API 클라이언트)

---

### Phase 6: 문의 게시판 통합 (2일)

#### 6.1 문의 게시판 분석
- [ ] `dark-nature-web/app/contact` 코드 분석
- [ ] 문의 게시판 데이터 구조 확인

#### 6.2 문의 게시판 마이그레이션
- [ ] `apps/portal/app/contact/page.tsx` 생성
- [ ] 기존 문의 게시판 코드 포팅
- [ ] 데이터 마이그레이션 (필요시)

---

### Phase 7: MNPS 테스트 통합 (3일)

#### 7.1 MNPS 서비스 분석
- [ ] `mnps-service`의 구조 및 기능 분석
- [ ] MNPS 테스트 플로우 확인
- [ ] MNPS API 엔드포인트 확인

#### 7.2 MNPS 통합 방법 결정
- [ ] 옵션 A: portal에서 mnps-service를 iframe 또는 새 창으로 열기
- [ ] 옵션 B: mnps-service를 Next.js API Route로 프록시
- [ ] 옵션 C: MNPS 기능을 portal로 마이그레이션 (장기 계획)

#### 7.3 MNPS 통합 구현
- [ ] `apps/portal/app/mnps/page.tsx` 구현
- [ ] MNPS 테스트 페이지 연결
- [ ] MNPS 서비스 설명 추가

---

### Phase 8: Second Genesis 통합 확인 (1일)

#### 8.1 Second Genesis 확인
- [ ] `apps/portal/app/second-genesis` 경로 확인
- [ ] Second Genesis 작동 확인
- [ ] 링크 및 네비게이션 확인

---

### Phase 9: 테스트 및 최적화 (2일)

#### 9.1 기능 테스트
- [ ] 메인 페이지 테스트
- [ ] 각 서비스 페이지 테스트
- [ ] 블로그 기능 테스트
- [ ] 게시판 기능 테스트
- [ ] 문의 게시판 테스트
- [ ] 네비게이션 테스트

#### 9.2 성능 최적화
- [ ] 이미지 최적화
- [ ] 코드 스플리팅
- [ ] API 응답 시간 최적화

#### 9.3 UI/UX 개선
- [ ] 반응형 디자인 최종 점검
- [ ] 접근성 검토
- [ ] 브라우저 호환성 테스트

---

### Phase 10: 문서화 및 정리 (1일)

#### 10.1 문서 작성
- [ ] 프로젝트 구조 문서 작성
- [ ] API 문서 작성
- [ ] 배포 가이드 작성
- [ ] 개발자 가이드 작성

#### 10.2 코드 정리
- [ ] 불필요한 파일 제거
- [ ] 코드 주석 정리
- [ ] 폴더 구조 최종 정리

---

## 🔧 기술 스택 및 도구

### 프론트엔드
- **Next.js 16.1.1** (App Router)
- **React 19.2.3**
- **TypeScript 5**
- **Tailwind CSS 4**

### 백엔드
- **Express** (mnps-service)
- **Node.js**
- **SQLite/MySQL**

### 데이터베이스
- **SQLite** (블로그, 게시판)
- **MySQL** (MNPS 서비스)

---

## 📊 예상 일정

| Phase | 작업 내용 | 예상 소요 시간 | 우선순위 |
|-------|----------|--------------|---------|
| Phase 1 | 현재 상태 정리 및 분석 | 1일 | 높음 |
| Phase 2 | 포털 메인 페이지 구축 | 2일 | 높음 |
| Phase 3 | 서비스 소개 페이지 구현 | 1일 | 중간 |
| Phase 4 | 블로그 기능 분리 및 통합 | 3일 | 높음 |
| Phase 5 | 게시판 기능 구현 | 3일 | 높음 |
| Phase 6 | 문의 게시판 통합 | 2일 | 중간 |
| Phase 7 | MNPS 테스트 통합 | 3일 | 높음 |
| Phase 8 | Second Genesis 통합 확인 | 1일 | 중간 |
| Phase 9 | 테스트 및 최적화 | 2일 | 높음 |
| Phase 10 | 문서화 및 정리 | 1일 | 낮음 |
| **총계** | | **19일** | |

---

## ⚠️ 주요 결정 사항

### 1. 블로그 분리 방법
**추천**: 블로그 데이터를 SQLite에서 JSON으로 마이그레이션하여 Next.js에서 직접 관리
- 장점: Next.js의 파일 기반 라우팅 활용, SEO 최적화
- 단점: 동적 콘텐츠 추가 시 재배포 필요 (추후 CMS 도입 가능)

### 2. 게시판 구현 방법
**추천**: Next.js API Routes 사용
- `apps/portal/app/api/board/` 경로에 API 구현
- SQLite 데이터베이스 사용
- 장점: 단일 프로젝트로 관리 가능, 배포 간편

### 3. MNPS 통합 방법
**추천**: 초기에는 iframe 또는 새 창으로 연결, 장기적으로는 마이그레이션 고려
- 이유: MNPS 서비스가 Express 기반으로 완성되어 있음
- 장기 계획: Next.js로 마이그레이션 (선택사항)

### 4. 데이터베이스 전략
- **블로그**: SQLite → JSON 마이그레이션 (정적 콘텐츠)
- **게시판**: SQLite (동적 콘텐츠)
- **문의 게시판**: SQLite
- **MNPS**: MySQL (기존 유지)

---

## 🎨 UI/UX 가이드라인

### 디자인 시스템
- **테마**: 다크 테마 기본
- **색상**: 
  - MNPS: Blue/Cyan 계열
  - Second Genesis: Purple/Pink 계열
  - 공통: Gray 계열
- **타이포그래피**: Inter, Outfit (기존 유지)

### 네비게이션 구조
```
홈 (/)
├── 서비스 소개 (/services)
├── MNPS (/mnps)
├── Second Genesis (/second-genesis)
├── 블로그 (/blog)
├── 게시판 (/board)
└── 문의 (/contact)
```

---

## 📝 다음 단계

1. **즉시 시작**: Phase 1 (현재 상태 정리 및 분석)
2. **우선순위 높음**: Phase 2, 4, 5, 7 (메인 페이지, 블로그, 게시판, MNPS)
3. **검토 필요**: 블로그 분리 방법, 게시판 요구사항, MNPS 통합 방법

---

## ✅ 체크리스트 (최종 확인)

### 필수 기능
- [ ] 메인 페이지 (모든 서비스 링크)
- [ ] 서비스 소개 페이지
- [ ] MNPS 테스트 연결
- [ ] Second Genesis 연결
- [ ] 블로그 (분리 완료)
- [ ] 게시판 (새로 구현)
- [ ] 문의 게시판

### 기술적 요구사항
- [ ] 반응형 디자인
- [ ] 다크 테마
- [ ] SEO 최적화
- [ ] 성능 최적화
- [ ] 접근성

---

**문의사항이나 수정 요청이 있으면 알려주세요.**



