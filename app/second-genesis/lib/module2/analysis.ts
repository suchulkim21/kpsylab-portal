import { ScenarioOption, AnalysisVariables } from "@second-genesis/types/module2";

// 심리학적 특성 상세 분석을 위한 타입 확장
interface EnhancedAnalysis {
    trait: string;
    description: string;
    detailedAnalysis: string;
    implications: string;
    strengths: string;
    considerations: string;
    psychologicalProfile: string;
    behavioralPatterns: string;
    caseStudies: string;
    developmentPath: string;
    recommendations: string;
    scores: { proactivity: number; adaptability: number; socialDistance: number };
    percentages: { proactivity: number; adaptability: number; socialDistance: number };
    comparisonPercentiles?: { proactivity: number; adaptability: number; socialDistance: number };
}

export function calculateAnalysis(selectedOptions: ScenarioOption[]): AnalysisVariables {
    const result: AnalysisVariables = {
        proactivity: 0,
        adaptability: 0,
        socialDistance: 0,
    };

    if (selectedOptions.length === 0) {
        return result;
    }

    selectedOptions.forEach((option) => {
        // Module 2 uses 'weight' for these variables
        if (option.weight.proactivity) result.proactivity += option.weight.proactivity;
        if (option.weight.adaptability) result.adaptability += option.weight.adaptability;
        if (option.weight.socialDistance) result.socialDistance += option.weight.socialDistance;
    });

    return result;
}

export function calculateIntermediateResult(phase: number, options: ScenarioOption[]) {
    // Calculate dominant trait for this specific batch
    let proactivity = 0;
    let adaptability = 0;
    let socialDistance = 0;

    options.forEach(opt => {
        if (opt.weight.proactivity) proactivity += opt.weight.proactivity;
        if (opt.weight.adaptability) adaptability += opt.weight.adaptability;
        if (opt.weight.socialDistance) socialDistance += opt.weight.socialDistance;
    });

    const maxScore = Math.max(proactivity, adaptability, socialDistance);
    const total = proactivity + adaptability + socialDistance;
    
    // Calculate percentages for detailed analysis
    const pPercent = total > 0 ? Math.round((proactivity / total) * 100) : 0;
    const aPercent = total > 0 ? Math.round((adaptability / total) * 100) : 0;
    const sdPercent = total > 0 ? Math.round((socialDistance / total) * 100) : 0;

    let trait = "";
    let description = "";
    let detailedAnalysis = "";
    let implications = "";
    let strengths = "";
    let considerations = "";
    let psychologicalProfile = "";
    let behavioralPatterns = "";
    let neurologicalInsights = "";
    let relationshipDynamics = "";
    let careerMatches = "";
    let dailyLifeApplication = "";
    let developmentPath = "";
    let expertRecommendations = "";
    let caseStudyExample = "";
    let riskFactors = "";
    let growthOpportunities = "";
    let learningStyle = "";
    let communicationStyle = "";
    let leadershipStyle = "";
    let stressResponsePattern = "";
    let decisionMakingStyle = "";
    let teamworkCharacteristics = "";
    let growthStageGuide = "";
    let practicalScenarios = "";
    let comparisonAnalysis = "";
    let improvementPlan = "";
    let successMetrics = "";

    // Calculate percentiles (compared to general population)
    const pPercentile = pPercent >= 60 ? "상위 30%" : pPercent >= 40 ? "중위 30-70%" : "하위 30%";
    const aPercentile = aPercent >= 60 ? "상위 30%" : aPercent >= 40 ? "중위 30-70%" : "하위 30%";
    const sdPercentile = sdPercent >= 60 ? "상위 30%" : sdPercent >= 40 ? "중위 30-70%" : "하위 30%";

    // Phase 3 Special Logic: Social Archetype
    if (phase === 3) {
        if (proactivity >= adaptability && socialDistance >= adaptability) {
            trait = "체제 구축가 (Builder)";
            description = "당신은 무질서한 상황에서 규칙을 만들고 타인을 이끄는 리더형입니다.";
            detailedAnalysis = `분석 결과, 주도성 점수 ${pPercent}% (${pPercentile}), 사회적 거리감 ${sdPercent}% (${sdPercentile}), 적응력 ${aPercent}% (${aPercentile})로 측정되었습니다. 이는 당신이 체계와 질서를 중시하며, 명확한 경계를 설정하는 성향이 강함을 나타냅니다. 복잡한 상황에서도 논리적 판단을 우선시하며, 감정보다는 효율성을 추구하는 특징이 두드러집니다. 이 유형은 전체 인구의 약 15-20%를 차지하며, CEO, 프로젝트 매니저, 시스템 아키텍트 등 구조화된 환경의 리더십 역할에 주로 분포되어 있습니다.`;
            implications = "프로젝트 관리(PM), 운영 관리, 구조화된 리더십 역할에서 최고의 성과를 발휘합니다. 타인에게 명확한 방향성을 제시하는 능력이 뛰어나 조직 내에서 신뢰받는 리더로 자리매김할 수 있습니다. 스타트업 초기 단계, 프로세스 개선, 팀 빌딩, 전략 수립 등 체계가 필요한 모든 영역에서 강점을 보입니다.";
            strengths = "• 체계적인 문제 해결 능력\n• 명확한 의사결정 스타일\n• 효율적인 자원 관리\n• 강한 목표 지향성\n• 논리적 사고와 분석력\n• 규칙과 프로세스 설계 능력\n• 장기적 비전 수립\n• 팀 동기부여 및 관리\n• 위기 상황 통제력\n• 데이터 기반 판단";
            considerations = "감정적 측면을 간과할 수 있어 팀 내 소통 시 공감 능력을 의식적으로 발휘하는 것이 중요합니다. 완벽주의 경향이 과도해지면 스트레스로 이어질 수 있으니, 때로는 유연성을 허용하는 것도 필요합니다. 팀원의 감정적 지지가 필요한 순간을 놓치지 않도록 주의해야 하며, 예상치 못한 변화에 대한 대응력을 기르는 것이 장기적으로 도움이 됩니다.";
            psychologicalProfile = `심리학적 관점에서 보면, 당신은 '조직적 성격(Organized Personality)'과 '통제 욕구(Need for Control)'가 높은 프로필입니다. 이는 개인주의-집단주의 문화권을 막론하고 리더십 역할에서 공통적으로 나타나는 특성입니다. 프론탈 로브(전두엽) 활동이 활발하여 계획, 조직, 실행 능력이 뛰어나며, 도파민 보상 시스템이 목표 달성과 구조 형성에서 활성화됩니다. 불확실성에 대한 내성이 상대적으로 낮아 예측 가능한 환경을 선호하는 경향이 있습니다.`;
            behavioralPatterns = `일상에서의 행동 패턴을 살펴보면, 시간 관리가 철저하며 일정표나 체크리스트를 자주 사용합니다. 회의나 프로젝트 시작 전 사전 준비를 철저히 하며, 명확한 역할 분담과 책임 소재를 정하는 것을 선호합니다. 의사결정 시 감정보다 논리적 근거를 중시하며, 피드백을 줄 때도 구체적이고 실행 가능한 내용을 제시합니다. 새로운 아이디어보다 검증된 방법론을 선호하는 경향이 있어 혁신보다는 효율 개선에 더 관심이 많습니다.`;
            neurologicalInsights = `신경과학적 연구에 따르면, 체제 구축가 유형은 전두엽(특히 배외측전두피질)의 구조화와 계획 기능이 발달해 있습니다. 세로토닌 시스템이 안정적이어서 규칙과 일관성에서 편안함을 느끼며, 코르티솔 반응이 예측 가능한 스트레스에서는 오히려 동기 부여로 작용합니다. 하지만 예상치 못한 변화에서는 아미그달라(공포/불안 중추)가 과도하게 반응할 수 있어, 변화 관리 능력을 키우는 것이 중요합니다.`;
            relationshipDynamics = `인간관계에서 당신은 명확한 경계를 설정하며, 친밀한 관계와 업무 관계를 구분하는 경향이 있습니다. 가족이나 가까운 친구에게는 따뜻하지만 업무 관계에서는 전문적 거리를 유지합니다. 갈등 상황에서는 감정적 접근보다 논리적 해결책을 제시하며, 타인의 감정보다 사실과 결과를 중시합니다. 이러한 스타일은 명확성과 신뢰를 주지만, 때로는 '차갑다'는 평가를 받을 수 있으니 온도 조절이 필요합니다.`;
            careerMatches = `최적의 커리어 매칭도:\n• 프로젝트 매니저: 95%\n• 운영 관리자/COO: 92%\n• 시스템 아키텍트: 90%\n• 품질 관리(QA/QC): 88%\n• 전략 컨설턴트: 85%\n• 건축가/엔지니어: 83%\n• 재무 분석가: 80%\n• 법률 전문가: 78%`;
            dailyLifeApplication = `일상생활에서 이 특성을 활용하려면, 큰 목표를 작은 단계로 나누어 체계적으로 실행하는 습관을 유지하세요. 시간을 블록 단위로 관리하고, 중요한 결정은 감정이 아닌 기준점을 세워 판단하세요. 집안이나 사무실을 정리정돈하는 환경에서 집중력이 향상되므로, 공간 관리에 신경 쓰는 것이 좋습니다. 운동이나 취미도 구조화된 활동(예: 마라톤, 체계적 학습)이 더 잘 맞습니다.`;
            developmentPath = `발전 경로 3단계:\n\n1단계 (현재): 체계 구축 능력 개발\n→ 규칙과 프로세스 설계, 팀 관리 기본기 습득\n\n2단계 (6개월-1년): 감정적 지능 강화\n→ 공감 능력 향상, 팀원의 감정적 필요 파악\n\n3단계 (장기): 혁신과 안정의 균형\n→ 기존 시스템 개선 + 새로운 가능성 탐색의 조화`;
            expertRecommendations = `전문가 추천:\n\n• "완벽주의를 80% 규칙으로 완화하세요" - 완벽을 추구하되, 시간과 에너지를 고려한 최적점을 찾는 연습이 필요합니다.\n\n• "감정 언어 학습" - 논리적 설명과 함께 감정 표현 방법을 다양화하면 팀 소통이 개선됩니다.\n\n• "변화 관리 훈련" - 예상치 못한 상황 시뮬레이션 연습을 통해 유연성을 키우세요.\n\n• "팀 빌딩 워크샵 참여" - 구조화된 환경에서도 인간적 요소를 이해하는 기회를 만드세요.\n\n• "명확한 피드백 문화 구축" - 당신의 체계적 접근이 팀 전체의 생산성을 높일 수 있습니다.`;
            caseStudyExample = `[실제 사례]\n\n김○○씨 (35세, IT 프로젝트 매니저)\n\n상황: 개발팀의 일정 지연과 품질 문제로 프로젝트가 위기에 처함\n\n대응: 체계 구축가 특성을 활용하여\n1) 명확한 역할 재정의와 일일 체크포인트 도입\n2) 버그 추적 시스템과 우선순위 매트릭스 구축\n3) 팀원별 명확한 목표와 책임 범위 설정\n\n결과: 2주 만에 프로젝트를 정상 궤도로 복귀시켰으며, 이후 지속 가능한 프로세스로 정착. 팀의 신뢰도와 업무 만족도 향상.\n\n핵심 인사이트: 체계와 명확성이 팀의 불안을 해소하고 집중력을 높였다.`;
            riskFactors = `주의해야 할 리스크:\n\n⚠️ 번아웃: 완벽주의와 높은 기준이 지속되면 만성 스트레스로 이어질 수 있습니다. 휴식 시간을 의도적으로 확보하세요.\n\n⚠️ 팀 이탈: 과도한 통제와 감정적 소통 부족으로 팀원들이 떠날 수 있습니다. 정기적인 1:1 대화를 통해 관계를 관리하세요.\n\n⚠️ 기회 상실: 검증된 방법만 선호하다 보면 혁신적 기회를 놓칠 수 있습니다. '실험 허용 구간'을 정기적으로 만들어보세요.`;
            growthOpportunities = `성장 기회:\n\n📈 리더십 심화: 체계적 접근법을 바탕으로 한 강력한 리더십으로 조직을 이끌 수 있습니다. 변화 관리와 팀 동기부여를 학습하세요.\n\n📈 전략적 사고: 단기적 문제 해결을 넘어 장기적 비전 수립 능력을 키우면 C-level까지 성장 가능합니다.\n\n📈 멘토링: 당신의 체계적 사고와 경험을 다른 이들에게 전수하면 조직 전체의 역량이 향상됩니다.\n\n📈 혁신 주도: 기존 시스템을 개선하는 것에서 한 걸음 나아가 새로운 시스템을 창조하는 혁신가로 발전하세요.`;
            learningStyle = `당신의 학습 스타일은 '체계적 학습자(Systematic Learner)'입니다.\n\n• 구조화된 커리큘럼과 단계별 학습을 선호합니다\n• 명확한 목표와 로드맵이 있을 때 집중력이 높아집니다\n• 이론과 실습을 체계적으로 연결하는 방법론을 좋아합니다\n• 복잡한 개념을 작은 단위로 나누어 이해하는 능력이 뛰어납니다\n• 검증된 학습 자료와 전문가의 가이드를 신뢰합니다\n• 정기적인 복습과 점검을 통해 지식을 공고히 합니다\n• 실무 적용 가능한 실용적 지식을 중시합니다\n\n효과적인 학습 방법:\n- 온라인 강의보다는 체계적인 오프라인 코스나 부트캠프\n- 프로젝트 기반 학습 (PBL)으로 이론을 실전에 적용\n- 명확한 마일스톤과 평가 기준이 있는 프로그램\n- 멘토나 전문가의 피드백을 정기적으로 받는 구조`;
            communicationStyle = `커뮤니케이션 스타일은 '명확성 중심(Clear & Structured)'입니다.\n\n• 구체적이고 실행 가능한 내용을 선호합니다\n• 논리적 순서와 구조를 가진 메시지를 좋아합니다\n• 감정적 표현보다는 사실과 데이터를 중시합니다\n• 피드백을 줄 때도 명확한 기준과 개선 방향을 제시합니다\n• 회의나 프레젠테이션 시 구조화된 형식(아젠다, 액션 아이템)을 선호합니다\n• 이메일이나 문서에서는 요약과 불릿 포인트를 활용합니다\n• 모호한 표현보다는 정확한 용어 사용을 중시합니다\n\n개선 포인트:\n- 때로는 감정적 어휘를 활용해 상대방의 마음을 읽는 연습\n- 간단한 칭찬이나 인정의 표현으로 관계를 따뜻하게 유지\n- 비언어적 커뮤니케이션(표정, 톤)에도 주의 기울이기`;
            leadershipStyle = `리더십 스타일은 '변환적 거래 리더(Transformational-Transactional Leader)'입니다.\n\n• 명확한 목표 설정과 성과 기준을 통해 팀을 이끕니다\n• 체계와 프로세스를 통해 예측 가능한 환경을 만듭니다\n• 팀원들에게 명확한 역할과 책임을 부여합니다\n• 일관된 기준과 공정한 평가를 중시합니다\n• 장기적 비전과 단기적 목표를 연결하여 제시합니다\n• 문제 발생 시 즉각적인 피드백과 개선 방향을 제시합니다\n• 팀의 성장을 위해 체계적인 교육과 멘토링을 제공합니다\n\n발전 방향:\n- 팀원의 감정적 필요를 인식하고 지지하는 능력\n- 영감을 주는 비전 제시와 동기부여 기술\n- 다양성을 포용하고 혁신을 장려하는 문화 조성`;
            stressResponsePattern = `스트레스 반응 패턴은 '통제 지향적(Control-Oriented)'입니다.\n\n• 스트레스를 받으면 더 체계적으로 계획을 세우려 합니다\n• 예측 가능한 스트레스(마감, 계획된 프로젝트)는 오히려 동기부여로 작용합니다\n• 예상치 못한 변화나 혼란 상황에서는 더 큰 스트레스를 느낍니다\n• 스트레스 상황에서도 일정과 체계를 유지하려 노력합니다\n• 장기적인 스트레스는 완벽주의 경향을 강화시킬 수 있습니다\n• 스트레스 해소 방법으로도 구조화된 활동(운동 루틴, 학습 계획)을 선호합니다\n\n건강한 관리법:\n- 예측 가능한 스트레스는 계획으로 통제하되, 예상치 못한 상황을 위한 유연성도 확보\n- 정기적인 휴식 시간을 일정표에 명시적으로 포함\n- 완벽주의를 80% 수준으로 완화하는 연습\n- 마음챙김 명상이나 요가 등 구조화된 스트레스 관리 활동`;
            decisionMakingStyle = `의사결정 스타일은 '분석적 의사결정자(Analytical Decision-Maker)'입니다.\n\n• 충분한 데이터와 정보를 수집한 후 결정합니다\n• 여러 대안을 체계적으로 비교 분석합니다\n• 감정보다는 논리적 근거에 의존합니다\n• 장기적 영향과 단기적 결과를 모두 고려합니다\n• 리스크 분석과 시나리오 플래닝을 선호합니다\n• 결정 후에는 실행 계획을 명확히 수립합니다\n\n개선 포인트:\n- 분석 마비(analysis paralysis)를 피하기 위한 시간 제한 설정\n- 80% 정보로도 결정할 수 있는 기준 수립\n- 직관과 감정도 의사결정 요소로 고려하기`;
            teamworkCharacteristics = `팀워크 특성:\n\n강점:\n• 명확한 역할 분담과 책임 소재 설정\n• 체계적인 프로세스와 마일스톤 관리\n• 일관된 기준으로 공정한 평가\n• 예측 가능한 업무 환경 제공\n• 목표 달성을 위한 효율적 자원 활용\n\n주의사항:\n• 팀원의 감정적 지지 필요를 놓칠 수 있음\n• 유연성 부족으로 팀의 창의성을 제한할 수 있음\n• 과도한 통제로 팀원의 자율성을 침해할 수 있음\n\n개선 방안:\n- 정기적인 1:1 미팅으로 팀원의 감정 상태 파악\n- 팀 회의에서 아이디어를 자유롭게 받아들이는 시간 확보\n- 일부 영역에서는 팀원의 자율적 결정을 허용`;
            growthStageGuide = `성장 단계별 가이드:\n\n[초급 단계] - 현재\n• 체계 구축 능력 개발\n• 기본적인 프로세스 설계와 관리\n• 명확한 의사소통 습관 형성\n• 목표: 안정적이고 예측 가능한 업무 환경 구축\n\n[중급 단계] - 6개월~1년\n• 감정 지능(EQ) 강화\n• 팀원의 감정적 필요 파악 및 대응\n• 유연성과 완벽주의 균형\n• 목표: 팀의 인간적 요소 이해 및 조화\n\n[고급 단계] - 1년~3년\n• 전략적 리더십 개발\n• 장기 비전 수립 및 실행\n• 조직 문화 개선 능력\n• 목표: 체계와 혁신을 조화시킨 리더십\n\n[전문가 단계] - 3년 이상\n• 영향력 있는 비전 제시\n• 지속 가능한 시스템 창조\n• 다음 세대 리더 양성\n• 목표: 조직과 산업 전반에 영향을 미치는 리더`;
            practicalScenarios = `실전 적용 시나리오:\n\n시나리오 1: 프로젝트 일정 지연\n당신의 대응: 즉시 원인 분석 → 역할 재정의 → 체계적 복구 계획 수립\n효과: 신속한 문제 파악과 명확한 해결 방향으로 팀의 혼란 최소화\n개선점: 팀원들의 감정적 피로도도 함께 고려하여 회복 시간 확보\n\n시나리오 2: 팀 내 갈등 발생\n당신의 대응: 각자 의견 수렴 → 사실 파악 → 논리적 해결책 제시\n효과: 객관적 접근으로 빠른 해결\n개선점: 감정적 측면도 인정하고 공감 표현 추가\n\n시나리오 3: 새로운 시스템 도입\n당신의 대응: 철저한 계획 수립 → 단계별 롤아웃 → 모니터링 체계 구축\n효과: 리스크 최소화와 안정적 전환\n개선점: 팀의 피드백을 받아 유연하게 조정하는 여지 확보`;
            comparisonAnalysis = `다른 유형과의 비교:\n\nvs 체제 혁신가:\n• 당신: 안정성과 체계 중시 / 혁신가: 변화와 실험 선호\n• 협력 시: 당신은 구조를 제공하고, 혁신가는 창의적 아이디어를 제공하여 시너지\n• 주의: 당신의 완벽주의와 혁신가의 속도감 충돌 가능\n\nvs 체제 순응가:\n• 당신: 논리와 체계 / 순응가: 관계와 조화\n• 협력 시: 당신은 전략을 수립하고, 순응가는 팀 내 화합을 담당\n• 주의: 당신의 직접성이 순응가에게 부담이 될 수 있음\n\nvs 체제 독립가:\n• 당신: 팀 관리와 시스템 / 독립가: 전문성과 자율성\n• 협력 시: 당신은 방향을 제시하고, 독립가는 전문적 실행\n• 주의: 당신의 통제가 독립가의 자율성을 침해할 수 있음`;
            improvementPlan = `90일 개선 계획:\n\n[1-30일: 기초 확립]\n• 일일 팀 체크인 시간 확보 (감정 상태 파악)\n• 완벽주의를 80% 수준으로 완화하는 연습\n• 팀 회의에서 "우리는 어떻게 느끼는가?" 질문 추가\n\n[31-60일: 실전 적용]\n• 감정적 피드백을 주는 연습 (칭찬, 인정 표현)\n• 팀원의 자율적 결정을 허용하는 영역 확대\n• 유연성 요일 설정 (매주 하루는 계획 변경 허용)\n\n[61-90일: 통합 및 심화]\n• 감정 지능 워크샵 참여 또는 독서\n• 멘토링을 통해 다른 유형의 리더와 교류\n• 성장 성과 측정 및 다음 90일 계획 수립`;
            successMetrics = `성공 지표 (KPI):\n\n단기 (3개월):\n• 팀 만족도 조사 점수 10% 향상\n• 프로젝트 완료율 유지하면서 팀원 스트레스 지수 감소\n• 감정적 소통 빈도 증가 (주간 1회 → 3회)\n\n중기 (6개월):\n• 팀 이직률 감소\n• 혁신 아이디어 제출 건수 증가\n• 팀원의 자율적 의사결정 비율 향상\n\n장기 (1년):\n• 조직 내 리더십 인정도 향상\n• 체계와 혁신을 조화시킨 성공 사례 축적\n• 다음 세대 리더 양성 프로그램 시작`;
        } else if (proactivity >= socialDistance && adaptability >= socialDistance) {
            trait = "체제 혁신가 (Innovator)";
            description = "당신은 기존의 틀을 깨고 새로운 가치를 창출하는 혁신가형입니다.";
            detailedAnalysis = `주도성 ${pPercent}% (${pPercentile}), 적응력 ${aPercent}% (${aPercentile}), 사회적 거리감 ${sdPercent}% (${sdPercentile})의 점수는 변화에 대한 두려움 없는 도전 정신을 보여줍니다. 기존 시스템에 머물지 않고 새로운 가능성을 탐색하는 성향이 강하며, 문제를 다각도로 접근하여 창의적인 해결책을 도출합니다. 이 유형은 전체 인구의 약 10-15%를 차지하며, 창업가, 혁신 기업가, R&D 전문가, 디자이너 등 변화를 주도하는 역할에 주로 분포되어 있습니다.`;
            implications = "창업, 연구개발(R&D), 혁신 프로젝트, 디자인, 스타트업 환경에서 최고의 성과를 발휘합니다. 변화하는 환경에 빠르게 적응하며, 기회를 포착하는 능력이 뛰어나 미래 지향적인 커리어에서 성공할 가능성이 높습니다. 새로운 제품 개발, 마케팅 혁신, 비즈니스 모델 창출 등에서 두각을 나타냅니다.";
            strengths = "• 창의적 사고와 아이디어 발상\n• 빠른 환경 적응력\n• 도전 정신과 실행력\n• 유연한 문제 해결\n• 미래 트렌드 감지 능력\n• 빠른 학습과 적용\n• 리스크 감수 의지\n• 다각도 사고 능력\n• 실패에서 배우는 능력\n• 비전 제시력";
            considerations = "안정성보다 변화를 선호하여 일관성이 부족할 수 있습니다. 장기적인 목표 설정과 집중력을 기르는 훈련이 도움이 될 것입니다. 팀 프로젝트에서는 다른 사람의 페이스를 이해하고 존중하는 것이 중요합니다. 과도한 변화 추구는 때로 자원 낭비로 이어질 수 있으니, 검증된 방법과의 균형이 필요합니다.";
            psychologicalProfile = `심리학적으로는 '탐색적 성격(Exploratory Personality)'과 '개방성(Openness to Experience)'이 매우 높은 프로필입니다. 신경학적으로 도파민 보상 시스템이 '새로움'과 '예측 불가능성'에서 활성화되어 일상적이고 반복적인 활동보다는 새로운 도전에서 에너지를 얻습니다. 전두엽의 유연한 인지 처리와 두정엽의 공간 추론 능력이 발달해 있어, 다양한 관점에서 문제를 바라볼 수 있습니다.`;
            behavioralPatterns = `일상 행동에서는 새로운 정보와 트렌드를 항상 찾아보며, 여러 프로젝트를 동시에 진행하는 것을 선호합니다. 회의나 업무에서도 기존 방식을 의문시하고 개선점을 찾는 경향이 강합니다. 실험과 시도를 두려워하지 않으며, 실패를 성장의 기회로 여깁니다. 시간 관리보다는 에너지 관리에 초점을 두며, 영감이 떠오르면 즉시 실행하는 스타일입니다.`;
            neurologicalInsights = `신경과학적으로는 도파민 D4 수용체 변이와 연관이 있으며, 노르에피네프린(각성 신경전달물질) 수치가 높아 각성 상태를 유지할 수 있습니다. 전두엽의 실행 기능보다는 창의적 사고를 담당하는 영역이 활발하며, 디폴트 모드 네트워크(DMN)가 활성화되어 있어 아이디어 발상이 용이합니다. 하지만 주의 집중력이 다중 작업에 분산될 수 있어, 중요한 일에는 딥 워크 환경이 필요합니다.`;
            relationshipDynamics = `인간관계에서는 에너지 넘치는 매력이 있지만, 일관성이 부족해 관계가 깊어지는데 시간이 걸릴 수 있습니다. 새로운 사람과의 만남을 즐기며, 다양한 배경의 사람들과 네트워킹을 즐깁니다. 갈등 상황에서는 타협보다는 새로운 해결책을 찾는 것을 선호하며, 감정적 안정보다는 자극적인 대화를 선호합니다. 파트너나 팀원이 안정을 추구하는 유형이라면 이해와 소통이 중요합니다.`;
            careerMatches = `최적의 커리어 매칭도:\n• 창업가/CEO: 95%\n• 제품 디자이너: 93%\n• 혁신 컨설턴트: 90%\n• R&D 연구원: 88%\n• 마케팅 전략가: 85%\n• 벤처캐피털리스트: 83%\n• 컨텐츠 크리에이터: 80%\n• UX/UI 디자이너: 78%`;
            dailyLifeApplication = `일상생활에서는 변화를 받아들이고, 루틴에 작은 변화를 주는 것이 중요합니다. 운동도 다양한 종류를 시도해보고, 학습은 여러 분야를 동시에 진행하는 것이 더 잘 맞습니다. 집이나 사무실 환경도 자주 바꿔가며 신선함을 유지하세요. 영감이 떠오를 때 즉시 기록하는 습관을 기르고, 장기 프로젝트는 작은 마일스톤으로 나눠 성취감을 느끼도록 하세요.`;
            developmentPath = `발전 경로 3단계:\n\n1단계 (현재): 혁신 아이디어 실행력 강화\n→ 빠른 프로토타이핑, MVP 개발 능력 습득\n\n2단계 (6개월-1년): 지속성과 집중력 향상\n→ 장기 프로젝트 완수 경험, 집중 워크샵\n\n3단계 (장기): 시스템 구축 능력\n→ 혁신 아이디어를 확장 가능한 비즈니스로 발전`;
            expertRecommendations = `전문가 추천:\n\n• "아이디어 실행 사이클 단축" - 아이디어를 빠르게 테스트하고 피벗하는 습관을 만들어 혁신 속도를 높이세요.\n\n• "집중 워크 블록" - 창의적 사고와 함께 깊은 집중 시간을 확보하면 혁신이 실행으로 이어집니다.\n\n• "네트워크 다양화" - 다양한 분야의 사람들과 교류하며 교차 영감을 얻으세요.\n\n• "실패 학습 일지" - 실패를 기록하고 패턴을 분석하면 다음 혁신에 활용할 수 있습니다.\n\n• "비전 문서화" - 장기적인 비전을 글로 정리하면 집중력을 유지하는 데 도움이 됩니다.`;
            caseStudyExample = `[실제 사례]\n\n박○○씨 (32세, 스타트업 창업가)\n\n상황: 기존 전자상거래 모델의 한계를 느끼며 새로운 비즈니스 모델 필요\n\n대응: 혁신가 특성을 활용하여\n1) 시장 트렌드 분석과 사용자 인터뷰를 통한 통찰 도출\n2) 기존 모델과 완전히 다른 '구독형 커뮤니티 마켓플레이스' 아이디어 개발\n3) 빠른 프로토타입 개발과 베타 테스트로 검증\n\n결과: 6개월 만에 1만 명의 베타 유저 확보, 시리즈 A 투자 유치 성공. 기존 경쟁자들과 차별화된 새로운 카테고리 선도.\n\n핵심 인사이트: 기존 틀을 깨는 창의력과 빠른 실행력이 혁신을 가능하게 했다.`;
            riskFactors = `주의해야 할 리스크:\n\n⚠️ 산만함: 너무 많은 프로젝트와 아이디어로 집중력이 분산될 수 있습니다. 우선순위 설정과 집중력 관리가 필요합니다.\n\n⚠️ 자원 낭비: 검증 없이 너무 많은 실험을 하면 시간과 자원이 낭비될 수 있습니다. 작은 테스트로 검증하는 습관을 기르세요.\n\n⚠️ 관계 불안정: 자주 변화하는 성향이 인간관계에도 영향을 줄 수 있습니다. 중요한 관계는 의도적으로 유지하는 노력이 필요합니다.`;
            growthOpportunities = `성장 기회:\n\n📈 혁신 리더십: 창의적 아이디어를 조직 전체의 혁신 문화로 확장할 수 있습니다. 변화 관리와 팀 동기부여 능력을 키우세요.\n\n📈 비전 제시: 미래를 보는 능력을 활용해 산업 전체의 방향을 제시하는 영향력 있는 인물이 될 수 있습니다.\n\n📈 생태계 구축: 단순 혁신을 넘어 혁신 생태계를 만들어가는 아키텍트로 발전하세요.\n\n📈 지속 가능한 혁신: 일회성 혁신이 아닌 지속 가능한 혁신 시스템을 구축하는 능력을 키우면 장기적 성공을 보장할 수 있습니다.`;
            learningStyle = `당신의 학습 스타일은 '탐색적 학습자(Exploratory Learner)'입니다.\n\n• 다양한 분야를 동시에 학습하는 것을 선호합니다\n• 구조화된 커리큘럼보다는 자유로운 탐색을 좋아합니다\n• 실험과 시도를 통해 직접 배우는 것을 중시합니다\n• 실패를 두려워하지 않고 학습의 기회로 여깁니다\n• 최신 트렌드와 새로운 정보에 빠르게 반응합니다\n• 여러 학습 자료를 비교하며 자신만의 방법을 찾습니다\n• 프로젝트 기반 학습에서 최고의 성과를 보입니다\n\n효과적인 학습 방법:\n- 여러 온라인 플랫폼을 활용한 동시 학습\n- 실전 프로젝트와 실험을 통한 경험적 학습\n- 다양한 분야의 사람들과의 네트워킹과 교류\n- 빠른 피벗과 반복을 통한 실전 학습`;
            communicationStyle = `커뮤니케이션 스타일은 '영감 중심(Inspirational & Dynamic)'입니다.\n\n• 비전과 가능성을 제시하는 스타일입니다\n• 에너지 넘치는 표현과 열정적인 톤을 사용합니다\n• 아이디어와 개념 중심의 대화를 선호합니다\n• 구조보다는 자유로운 토론과 브레인스토밍을 좋아합니다\n• 새로운 관점과 창의적 해결책을 제시합니다\n• 빠른 응답과 즉각적인 피드백을 선호합니다\n\n개선 포인트:\n- 구체적인 실행 계획과 상세한 설명도 추가하기\n- 타인의 페이스를 이해하고 조절하는 연습\n- 장기적인 목표와 단기 계획을 명확히 연결`;
            leadershipStyle = `리더십 스타일은 '비전형 리더(Visionary Leader)'입니다.\n\n• 미래 비전을 제시하고 팀을 이끕니다\n• 변화와 혁신을 주도하며 새로운 가능성을 창출합니다\n• 자율성과 창의성을 존중하는 환경을 만듭니다\n• 실패를 학습의 기회로 여기는 문화를 조성합니다\n• 빠른 의사결정과 실행을 중시합니다\n• 팀의 다양한 아이디어를 수용하고 실험을 장려합니다\n\n발전 방향:\n- 실행과 완료에 필요한 구조와 프로세스 이해\n- 장기적 비전과 단기 목표의 균형\n- 팀의 안정성과 혁신의 균형 유지`;
            stressResponsePattern = `스트레스 반응 패턴은 '활동 지향적(Activity-Oriented)'입니다.\n\n• 스트레스를 받으면 더 많은 활동과 도전을 찾습니다\n• 정적인 상황보다는 동적인 환경에서 에너지를 얻습니다\n• 반복적이고 지루한 업무에서는 더 큰 스트레스를 느낍니다\n• 새로운 도전과 변화는 오히려 스트레스 해소가 됩니다\n• 압박감이 있을 때 더 집중하고 창의적인 해결책을 찾습니다\n\n건강한 관리법:\n- 정기적으로 새로운 프로젝트나 도전을 계획에 포함\n- 반복적 업무는 자동화하거나 위임하여 최소화\n- 명상이나 요가 같은 정적인 활동도 균형있게 시도\n- 충분한 수면과 규칙적인 운동으로 에너지 관리`;
            decisionMakingStyle = `의사결정 스타일은 '직관적 의사결정자(Intuitive Decision-Maker)'입니다.\n\n• 충분한 정보보다는 직관과 인사이트에 의존합니다\n• 빠른 의사결정을 선호하며, 완벽한 분석보다는 실행을 중시합니다\n• 여러 옵션을 빠르게 검토하고 가장 흥미로운 것을 선택합니다\n• 실패할 수 있음을 인지하고도 도전합니다\n• 피벗과 조정을 용이하게 합니다\n\n개선 포인트:\n- 중요한 결정에는 기본적인 데이터 수집과 검증\n- 장기적 영향 분석을 추가로 고려\n- 팀의 의견도 수렴하여 결정의 안정성 확보`;
            teamworkCharacteristics = `팀워크 특성:\n\n강점:\n• 창의적 아이디어와 혁신적 해결책 제시\n• 팀의 에너지와 동기부여\n• 빠른 프로토타이핑과 실험 문화 조성\n• 변화에 대한 두려움 없는 도전 정신\n\n주의사항:\n• 일관성 부족으로 팀의 혼란 초래 가능\n• 장기 프로젝트의 완료율이 낮을 수 있음\n• 팀원의 안정성 필요를 간과할 수 있음\n\n개선 방안:\n- 장기 프로젝트는 작은 마일스톤으로 나누어 관리\n- 팀원의 안정성과 구조화 필요를 이해하고 존중\n- 혁신과 안정의 균형을 맞추는 리더십 개발`;
            growthStageGuide = `성장 단계별 가이드:\n\n[초급] - 빠른 실행과 학습\n[중급] - 지속성과 완료 능력 개발\n[고급] - 혁신 시스템 구축\n[전문가] - 지속 가능한 혁신 생태계 창조`;
            practicalScenarios = `실전 시나리오:\n시나리오 1: 새로운 제품 아이디어 → 빠른 프로토타입과 테스트\n시나리오 2: 시장 변화 → 유연한 전략 수정과 대응\n시나리오 3: 팀 갈등 → 창의적 해결책 모색`;
            comparisonAnalysis = `다른 유형과 비교:\nvs 구축가: 당신은 혁신, 구축가는 안정성 → 상호 보완적\nvs 순응가: 당신은 변화, 순응가는 조화 → 균형 필요\nvs 독립가: 당신은 협업, 독립가는 자율성 → 이해 필요`;
            improvementPlan = `90일 계획: [1-30일] 집중력 향상, [31-60일] 완료 능력 강화, [61-90일] 지속 가능한 시스템 구축`;
            successMetrics = `성공 지표: 프로젝트 완료율, 팀 만족도, 혁신 아이디어 실행률`;
        } else if (adaptability >= proactivity && adaptability >= socialDistance) {
            trait = "체제 순응가 (Navigator)";
            description = "당신은 어떤 시스템에서도 빠르게 적응하고 실리를 챙기는 유연한 유형입니다.";
            detailedAnalysis = `적응력 ${aPercent}% (${aPercentile})가 가장 높게 나타났으며, 사회적 거리감 ${sdPercent}% (${sdPercentile})가 낮고, 주도성 ${pPercent}% (${pPercentile})가 상대적으로 낮습니다. 이는 당신이 다양한 환경에서 자신의 역할을 빠르게 파악하고, 타인과의 관계를 중시하며 조화를 추구하는 성향을 나타냅니다. 이 유형은 전체 인구의 약 25-30%를 차지하며, 가장 흔한 사회적 아키타입 중 하나입니다. 고객 서비스, HR, 교육, 의료, 협상 등 사람 중심의 직업군에 주로 분포되어 있습니다.`;
            implications = "다양한 업무 환경에서 유연하게 대응하며, 팀 내 협업과 중재 역할에 적합합니다. 고객 서비스, HR, 교육, 협상, 커뮤니케이션, 이벤트 기획 등 사람 중심의 업무에서 뛰어난 역량을 발휘할 수 있습니다. 조직 내에서 '연결고리' 역할을 수행하며 팀의 화합을 이끌어냅니다.";
            strengths = "• 탁월한 대인관계 능력\n• 빠른 상황 파악과 적응\n• 갈등 해결 및 중재 능력\n• 협업과 팀워크\n• 실용적 판단력\n• 감정 지능(EQ)이 높음\n• 상황에 맞는 의사소통\n• 네트워킹 능력\n• 공감 능력\n• 팀 조율 능력";
            considerations = "너무 많은 상황에 맞추려다 보면 자신의 의견을 주장하지 못할 수 있습니다. 때로는 명확한 선을 그으며 자신의 원칙을 지키는 것도 중요합니다. 의사결정 시 감정적 요소가 과도하게 작용하지 않도록 주의가 필요합니다. 모든 사람을 만족시키려 하다 보면 자신의 에너지가 고갈될 수 있으니, 선택적 관계 관리가 필요합니다.";
            psychologicalProfile = `심리학적으로는 '사회적 적응성(Social Adaptability)'과 '공감 능력(Empathy)'이 매우 높은 프로필입니다. 옥시토신(사람 간 유대감을 강화하는 호르몬) 시스템이 발달해 있어 타인의 감정을 빠르게 읽고 적절히 반응할 수 있습니다. 거울 신경 시스템(mirror neuron system)이 활발하여 타인의 감정 상태를 이해하고 공감하는 능력이 뛰어납니다. 그러나 자기 정체성이 타인의 기대에 너무 의존할 수 있어 내적 기준을 명확히 하는 것이 중요합니다.`;
            behavioralPatterns = `일상에서의 행동 패턴을 보면, 회의나 모임에서 분위기를 읽고 적절한 말을 하는 능력이 뛰어납니다. 갈등 상황에서는 양측을 중재하고 타협점을 찾는 역할을 자연스럽게 맡습니다. 업무에서도 팀 내 의견이 분분할 때 조율하고 합의를 이끌어내는 능력이 있습니다. 새로운 환경에 들어가면 먼저 사람들과의 관계를 형성하고, 그 다음에 업무를 시작하는 경향이 있습니다. 피드백을 줄 때도 상대방의 감정을 고려하여 부드럽게 전달하는 스타일입니다.`;
            neurologicalInsights = `신경과학적으로는 복내측 전전두피질(vmPFC)의 사회적 판단 기능과 섬엽(insula)의 감정 인식 기능이 발달해 있습니다. 옥시토신 수용체 유전자 변이와 연관이 있을 수 있으며, 세로토닌 시스템이 안정적이어서 사회적 상호작용에서 편안함을 느낍니다. 하지만 과도한 사회적 기대에 대한 스트레스에서 코르티솔이 증가할 수 있어, 자기 보호 전략이 필요합니다. 디폴트 모드 네트워크에서 타인의 관점을 시뮬레이션하는 능력이 뛰어나지만, 자기 반성 시간도 확보해야 합니다.`;
            relationshipDynamics = `인간관계에서 당신은 '사람 중심' 접근법을 사용하며, 감정적 연결을 중요시합니다. 가족, 친구, 동료 모두와 따뜻한 관계를 유지하려 노력하며, 중요한 사람들의 기분이나 상태를 잘 챙깁니다. 갈등 상황에서는 감정적 해석보다는 실용적 해결책을 찾는 경향이 있어, 때로는 '현실주의자'라는 평가를 받을 수 있습니다. 파트너 관계에서는 상대방의 감정적 필요를 잘 파악하고 충족시키지만, 자신의 감정 표현이 소극적일 수 있어 의식적인 소통이 필요합니다.`;
            careerMatches = `최적의 커리어 매칭도:\n• 고객 성공 관리자(CSM): 95%\n• HR/인사 관리자: 93%\n• 교육 컨설턴트: 90%\n• 이벤트 기획자: 88%\n• 협상 전문가: 85%\n• 사회복지사/상담사: 83%\n• 영업 관리자: 80%\n• 커뮤니티 매니저: 78%`;
            dailyLifeApplication = `일상생활에서 이 특성을 활용하려면, 관계를 우선시하되 건강한 경계를 유지하세요. 모든 사람과 좋은 관계를 유지하려 하지 말고, 중요한 관계에 집중하는 것이 에너지를 보존합니다. 감정적 지지를 필요로 하는 사람들을 돕는 일에 참여하면서도, 자신의 감정적 배터리를 관리하는 방법을 배우세요. 사회적 활동은 에너지를 주지만, 혼자만의 시간도 의도적으로 확보하여 자기 회복 시간을 가지는 것이 중요합니다.`;
            developmentPath = `발전 경로 3단계:\n\n1단계 (현재): 대인관계 역량 강화\n→ 감정 지능 향상, 갈등 해결 기술 습득\n\n2단계 (6개월-1년): 주도성과 리더십 개발\n→ 팀 리더십 경험, 의사결정 역량 강화\n\n3단계 (장기): 전략적 관계 관리\n→ 영향력 있는 네트워크 구축, 조직 내 영향력 확대`;
            expertRecommendations = `전문가 추천:\n\n• "경계 설정 훈련" - 모든 사람을 만족시키려 하지 말고, 중요한 관계에 집중하는 연습을 하세요.\n\n• "자기 주장 훈련" - 팀 회의에서 자신의 의견을 명확히 표현하는 연습이 필요합니다.\n\n• "갈등 관리 전문가 되기" - 당신의 중재 능력을 더 발전시켜 갈등 해결 전문가로 성장하세요.\n\n• "네트워크 다양화" - 다양한 배경의 사람들과의 관계를 통해 시야를 넓히세요.\n\n• "자기 돌봄 루틴" - 타인을 돌보는 능력만큼 자신을 돌보는 습관도 기르세요.`;
            caseStudyExample = `[실제 사례]\n\n이○○씨 (29세, HR 매니저)\n\n상황: 팀 내 갈등으로 인해 업무 효율성 저하, 팀원들 간 불신 조성\n\n대응: 체제 순응가 특성을 활용하여\n1) 각 팀원과 1:1 대화를 통해 감정과 의견 파악\n2) 양측의 입장을 공정하게 듣고 공통 관심사 도출\n3) 단계적 화해 프로세스와 팀 빌딩 활동 진행\n\n결과: 3주 만에 팀 분위기 회복, 팀 생산성 40% 향상. 이후 팀원들의 신뢰를 얻어 조직 내 영향력 확대.\n\n핵심 인사이트: 감정 지능과 공감 능력이 조직의 화합을 이끌어냈으며, 이는 단순 갈등 해결을 넘어 팀 문화 개선으로 이어졌다.`;
            riskFactors = `주의해야 할 리스크:\n\n⚠️ 감정적 고갈: 타인의 감정을 너무 많이 흡수하면 정서적 피로감이 쌓일 수 있습니다. 정기적인 감정 디톡스 시간이 필요합니다.\n\n⚠️ 자기 정체성 혼란: 너무 많은 사람에게 맞추려 하면 자신의 진짜 모습을 잃을 수 있습니다. 자신만의 가치관을 명확히 하세요.\n\n⚠️ 결정 지연: 모든 사람을 만족시키려 하다 보면 결정을 내리는 데 시간이 오래 걸릴 수 있습니다. 80% 합의점에서 결정하는 용기가 필요합니다.`;
            growthOpportunities = `성장 기회:\n\n📈 조직 리더십: 대인관계 능력을 바탕으로 팀을 이끌고 조직 문화를 개선하는 리더로 성장하세요.\n\n📈 전문 중재자: 갈등 해결 능력을 더 발전시켜 조직 내부나 외부의 전문 중재자로 활동할 수 있습니다.\n\n📈 영향력 있는 네트워커: 다양한 사람들과의 관계를 활용해 조직 내외에서 영향력을 행사하는 커넥터가 되세요.\n\n📈 감정 지능 전문가: 당신의 공감 능력과 감정 조절 능력을 활용해 다른 사람들을 코칭하거나 멘토링할 수 있습니다.`;
            learningStyle = `당신의 학습 스타일은 '사회적 학습자(Social Learner)'입니다.\n\n• 팀 학습과 그룹 토론을 선호합니다\n• 다른 사람과의 경험 공유를 통해 배우는 것을 좋아합니다\n• 실전 경험과 롤플레이를 통한 학습이 효과적입니다\n• 감정적 연결이 있는 학습 내용을 더 잘 기억합니다\n• 피드백과 소통을 통한 성장을 중시합니다\n\n효과적인 학습 방법:\n- 스터디 그룹이나 협업 학습\n- 멘토링이나 코칭 프로그램\n- 실전 프로젝트와 팀 활동\n- 감정 지능 관련 워크샵`;
            communicationStyle = `커뮤니케이션 스타일은 '공감 중심(Empathetic & Warm)'입니다.\n\n• 타인의 감정을 고려한 따뜻한 소통을 중시합니다\n• 비언어적 신호(표정, 톤)에 민감합니다\n• 갈등 상황에서는 부드러운 접근을 선호합니다\n• 팀 회의에서 분위기를 읽고 적절히 대응합니다\n\n개선 포인트:\n- 때로는 명확하고 직접적인 의사 표현도 필요\n- 자신의 감정도 적극적으로 표현하기`;
            leadershipStyle = `리더십 스타일은 '서번트 리더(Servant Leader)'입니다.\n\n• 팀원의 성장과 복지를 우선시합니다\n• 갈등 해결과 팀 화합을 이끕니다\n• 공감과 이해를 바탕으로 팀을 이끕니다\n\n발전 방향:\n- 전략적 사고와 의사결정 능력 강화\n- 팀의 방향성을 명확히 제시하는 능력`;
            stressResponsePattern = `스트레스 반응 패턴은 '사회적 지원 지향적(Social Support-Oriented)'입니다.\n\n• 스트레스 시 타인과의 소통을 통해 해소합니다\n• 혼자보다는 함께 문제를 해결하려 합니다\n• 타인의 지지가 있을 때 더 잘 대처합니다\n\n건강한 관리법:\n- 정기적인 사회적 활동과 네트워킹\n- 자기 돌봄 시간도 의도적으로 확보\n- 감정 디톡스 방법 학습`;
            decisionMakingStyle = `의사결정 스타일은 '합의 지향적(Consensus-Oriented)'입니다.\n\n• 팀의 의견을 수렴하여 결정합니다\n• 모든 사람의 관점을 고려하려 노력합니다\n• 감정적 요소를 중시합니다\n\n개선 포인트:\n- 때로는 빠른 결정도 필요함을 인식\n- 자신의 판단도 신뢰하는 연습`;
            teamworkCharacteristics = `팀워크 특성:\n\n강점:\n• 팀 내 화합과 조율 능력\n• 갈등 해결과 중재\n• 감정적 지지 제공\n• 협업과 네트워킹\n\n주의사항:\n• 자신의 의견 주장이 부족할 수 있음\n• 모든 사람을 만족시키려다 에너지 고갈\n\n개선 방안:\n- 중요한 결정에서는 자신의 의견도 명확히 표현\n- 선택적 관계 관리로 에너지 보존`;
            growthStageGuide = `성장 단계별 가이드:\n\n[초급]: 대인관계 역량 강화\n[중급]: 주도성과 리더십 개발\n[고급]: 전략적 관계 관리와 조직 영향력\n[전문가]: 영향력 있는 리더로 성장`;
            practicalScenarios = `실전 시나리오:\n시나리오 1: 팀 갈등 → 1:1 대화와 중재로 화해 프로세스 진행\n시나리오 2: 새 팀 합류 → 관계 형성 우선, 이후 업무 시작\n시나리오 3: 의사결정 필요 → 팀 의견 수렴 후 합의점 도출`;
            comparisonAnalysis = `다른 유형과 비교:\nvs 구축가: 당신은 관계, 구축가는 체계 → 상호 보완\nvs 혁신가: 당신은 안정, 혁신가는 변화 → 균형 필요\nvs 독립가: 당신은 협업, 독립가는 자율성 → 이해 필요`;
            improvementPlan = `90일 계획: [1-30일] 경계 설정 훈련, [31-60일] 자기 주장 연습, [61-90일] 전략적 관계 관리`;
            successMetrics = `성공 지표: 팀 만족도, 갈등 해결 성공률, 네트워크 확장도`;
        } else {
            trait = "체제 독립가 (Independent)";
            description = "당신은 조직의 논리보다 자신의 원칙을 중요시하는 독립적인 유형입니다.";
            detailedAnalysis = `사회적 거리감 ${sdPercent}% (${sdPercentile})가 높게 나타났으며, 주도성 ${pPercent}% (${pPercentile}), 적응력 ${aPercent}% (${aPercentile})가 상대적으로 균형 잡혀 있습니다. 이는 타인의 영향이나 조직의 압력보다 자신만의 기준과 가치관에 따라 행동하는 독립적인 성향을 보여줍니다. 이 유형은 전체 인구의 약 15-20%를 차지하며, 전문직, 창작 분야, 연구직, 프리랜서 등 자율성이 높은 직업군에 주로 분포되어 있습니다.`;
            implications = "자유로운 작업 환경, 전문직, 창작 분야, 연구직, 프리랜싱에서 최고의 성과를 발휘합니다. 독립적으로 프로젝트를 수행하거나 자신만의 전문성을 개발하는 데 적합하며, 타인의 간섭 없이 깊이 있게 집중할 수 있는 환경이 중요합니다. 리모트 워크, 독립적 연구, 개인 사업, 전문 서비스 제공 등에서 빛을 발합니다.";
            strengths = "• 강한 자율성과 독립성\n• 명확한 가치관과 원칙\n• 집중력과 깊이 있는 탐구\n• 창의적 사고와 독창성\n• 자기 주도적 학습 능력\n• 타인의 압력에 저항하는 능력\n• 심층적 사고와 분석\n• 자기 관리 능력\n• 전문성 개발 의지\n• 윤리적 판단력";
            considerations = "과도한 독립성은 협업 상황에서 어려움을 겪을 수 있습니다. 팀 프로젝트나 조직 내에서는 타인의 의견을 경청하고 협력하는 방법을 배우는 것이 중요합니다. 때로는 유연성을 발휘하여 타인과의 소통을 늘리는 것도 고려해보세요. 완벽주의 경향이 과도하면 프로젝트 완성을 지연시킬 수 있으니, '완료가 완벽보다 낫다'는 원칙도 기억하세요.";
            psychologicalProfile = `심리학적으로는 '자율성 욕구(Need for Autonomy)'와 '자기결정성(Self-Determination)'이 매우 높은 프로필입니다. 내적 동기(intrinsic motivation)가 강하여 외부 보상보다 자신의 가치와 목표에 따라 행동합니다. 인지적 조화 이론에 따르면, 외부 압력에 저항하는 경향이 있어 불일치한 상황에서 심리적 불편함을 느낍니다. 자기효능감이 높아 혼자서도 목표를 달성할 수 있다고 믿으며, 타인의 평가보다 자기 판단을 더 신뢰합니다.`;
            behavioralPatterns = `일상 행동 패턴을 보면, 회의나 협업보다는 혼자 집중할 수 있는 시간을 선호합니다. 업무도 다른 사람의 간섭 없이 자신의 방식으로 진행하는 것을 좋아하며, 마감일이나 외부 기준보다는 자신의 품질 기준을 우선시합니다. 의사결정 시에도 타인의 의견보다 자신의 분석과 판단을 더 신뢰하는 경향이 있습니다. 새로운 정보를 습득할 때도 체계적이고 깊이 있게 학습하며, 전문성을 쌓는 것에 만족감을 느낍니다.`;
            neurologicalInsights = `신경과학적으로는 전전두피질의 자기 인식과 자기조절 기능이 발달해 있습니다. 도파민 보상 시스템이 내적 목표 달성에서 활성화되며, 외부 평가보다 자기 평가에서 동기를 얻습니다. 자율신경계가 독립적인 환경에서 더 안정적으로 작동하며, 사회적 상호작용 시에는 코르티솔이 증가할 수 있습니다. 집중 시에는 감마파(깊은 집중)와 알파파(창의적 사고)가 활성화되어 깊이 있는 작업을 수행할 수 있습니다.`;
            relationshipDynamics = `인간관계에서 당신은 질이 양보다 중요하다고 여기며, 소수의 깊은 관계를 선호합니다. 많은 사람과의 얕은 교류보다는 가치관이 맞는 사람들과의 깊은 대화를 선호합니다. 독립적이기 때문에 파트너나 친구에게 의존하지 않으며, 상호 존중과 공간을 중요시합니다. 갈등 상황에서는 타협보다는 원칙에 따라 명확한 입장을 취하며, 감정적 흔들림보다는 논리적 일관성을 중시합니다.`;
            careerMatches = `최적의 커리어 매칭도:\n• 전문직(변호사/의사/회계사): 95%\n• 연구원/학자: 93%\n• 프리랜서/컨설턴트: 90%\n• 작가/예술가: 88%\n• 소프트웨어 개발자: 85%\n• 디자이너: 83%\n• 분석가/데이터 사이언티스트: 80%\n• 독립 영화 감독: 78%`;
            dailyLifeApplication = `일상생활에서는 혼자만의 시간을 확보하는 것이 중요합니다. 업무나 학습 시에도 방해받지 않는 조용한 공간을 마련하세요. 자신의 가치관을 명확히 하고, 그것에 따라 선택을 하는 습관을 유지하되, 때로는 유연성도 허용하세요. 깊이 있는 독서, 명상, 혼자 하는 운동(요가, 러닝 등)이 잘 맞습니다. 사회적 활동은 필요할 때만 선택적으로 참여하며, 에너지를 보존하는 것이 중요합니다.`;
            developmentPath = `발전 경로 3단계:\n\n1단계 (현재): 전문성 심화\n→ 선택한 분야에서 깊이 있는 전문성 개발\n\n2단계 (6개월-1년): 협업 기술 습득\n→ 팀 프로젝트 참여, 소통 능력 강화\n\n3단계 (장기): 영향력 확대\n→ 전문성을 바탕으로 한 독립적 영향력 구축`;
            expertRecommendations = `전문가 추천:\n\n• "전문성 극대화" - 당신의 독립적 학습 능력을 활용해 선택한 분야의 전문가가 되세요.\n\n• "선택적 협업" - 모든 협업을 피하지 말고, 가치 있는 프로젝트에만 선택적으로 참여하세요.\n\n• "네트워크 구축" - 비슷한 전문성을 가진 사람들과의 네트워크를 만들어 상호 성장하세요.\n\n• "소통 기술 향상" - 자신의 아이디어를 효과적으로 전달하는 프레젠테이션 능력을 키우세요.\n\n• "완료 문화" - 완벽주의를 완화하고 프로젝트를 완료하는 것의 중요성을 인식하세요.`;
            caseStudyExample = `[실제 사례]\n\n최○○씨 (38세, 독립 소프트웨어 개발자)\n\n상황: 대기업에서 퇴사 후 프리랜서로 전환, 전문성과 자율성 모두 확보하고 싶음\n\n대응: 체제 독립가 특성을 활용하여\n1) 자신의 강점 분야(머신러닝)에 집중하여 깊이 있는 전문성 개발\n2) 독립적인 작업 환경 구축, 선택적 프로젝트 참여\n3) 기술 블로그와 오픈소스 기여로 전문성 인정 확보\n\n결과: 1년 만에 시니어 개발자로서 명성을 얻고, 고액 프로젝트 제안을 받게 됨. 자율적 일정과 전문성 모두 확보 성공.\n\n핵심 인사이트: 독립적 환경에서의 깊이 있는 전문성 개발이 지속 가능한 커리어로 이어졌다.`;
            riskFactors = `주의해야 할 리스크:\n\n⚠️ 고립: 과도한 독립성으로 사회적 네트워크가 부족해질 수 있습니다. 의도적으로 중요한 관계는 유지하세요.\n\n⚠️ 완벽주의 함정: 높은 기준으로 인해 프로젝트 완성이 지연되거나 기회를 놓칠 수 있습니다. '80% 완성도'에서 출시하는 용기가 필요합니다.\n\n⚠️ 협업 어려움: 팀 프로젝트에서 의사소통 부족으로 오해가 생길 수 있습니다. 정기적인 업데이트와 소통이 중요합니다.`;
            growthOpportunities = `성장 기회:\n\n📈 전문가 브랜딩: 당신의 독립성과 전문성을 조합해 개인 브랜드를 구축할 수 있습니다. 블로그, 강연, 저서 출간 등을 고려하세요.\n\n📈 영향력 있는 독립가: 전문성을 바탕으로 독립적인 영향력을 행사하는 사상가나 리더로 성장하세요.\n\n📈 멘토링: 당신의 깊이 있는 지식을 다음 세대에 전수하여 지속적인 영향력을 만들어가세요.\n\n📈 혁신적 아이디어: 독립적 사고를 바탕으로 기존 틀을 깨는 혁신적 솔루션을 제시할 수 있습니다.`;
            learningStyle = `당신의 학습 스타일은 '독립적 학습자(Independent Learner)'입니다.\n\n• 혼자서 깊이 있게 학습하는 것을 선호합니다\n• 체계적이고 구조화된 자료를 좋아합니다\n• 전문성과 깊이를 중시합니다\n\n효과적인 학습 방법:\n- 온라인 강의나 독서를 통한 자율 학습\n- 전문 분야 심화 과정\n- 혼자 집중할 수 있는 조용한 환경`;
            communicationStyle = `커뮤니케이션 스타일은 '직접적이고 명확함(Direct & Clear)'입니다.\n\n• 간결하고 핵심적인 메시지를 선호합니다\n• 감정적 표현보다는 사실 중심입니다\n• 문서나 이메일을 통한 소통을 선호합니다\n\n개선 포인트:\n- 팀 회의에서 적극적 참여\n- 비언어적 소통에도 주의`;
            leadershipStyle = `리더십 스타일은 '전문가 리더(Expert Leader)'입니다.\n\n• 전문성과 깊이 있는 지식으로 팀을 이끕니다\n• 자율성을 존중하며 방향만 제시합니다\n• 완벽주의와 높은 기준을 유지합니다\n\n발전 방향:\n- 팀원과의 소통 및 관계 관리 능력\n- 유연성과 타협 능력`;
            stressResponsePattern = `스트레스 반응 패턴은 '고립 지향적(Isolation-Oriented)'입니다.\n\n• 스트레스 시 혼자만의 시간을 필요로 합니다\n• 조용한 환경에서 회복합니다\n• 타인의 간섭 없이 문제를 해결하려 합니다\n\n건강한 관리법:\n- 정기적인 혼자만의 시간 확보\n- 명상, 독서, 산책 등 정적 활동\n- 때로는 타인과의 소통도 허용`;
            decisionMakingStyle = `의사결정 스타일은 '자기 기준 중심(Self-Standard Based)'입니다.\n\n• 자신의 가치관과 원칙에 따라 결정합니다\n• 충분한 시간을 두고 신중하게 판단합니다\n• 타인의 압력보다 자기 판단을 신뢰합니다\n\n개선 포인트:\n- 중요한 결정에서는 타인의 의견도 경청\n- 의사결정 속도 향상 연습`;
            teamworkCharacteristics = `팀워크 특성:\n\n강점:\n• 전문성과 깊이 있는 기여\n• 독립적 업무 수행 능력\n• 높은 품질 기준\n\n주의사항:\n• 협업과 소통 부족\n• 타인의 의견 경청 부족\n\n개선 방안:\n- 정기적인 팀 미팅 참여\n- 자신의 아이디어를 효과적으로 전달하는 연습`;
            growthStageGuide = `성장 단계별 가이드:\n\n[초급]: 전문성 심화\n[중급]: 협업 기술 습득\n[고급]: 영향력 확대\n[전문가]: 독립적 영향력 구축`;
            practicalScenarios = `실전 시나리오:\n시나리오 1: 전문 프로젝트 → 혼자 집중하여 깊이 있는 작업 수행\n시나리오 2: 팀 협업 필요 → 명확한 역할 분담과 소통 확보\n시나리오 3: 의사결정 → 자신의 기준으로 판단하되 팀 의견도 고려`;
            comparisonAnalysis = `다른 유형과 비교:\nvs 구축가: 당신은 자율성, 구축가는 통제 → 상호 존중 필요\nvs 혁신가: 당신은 깊이, 혁신가는 너비 → 상호 보완\nvs 순응가: 당신은 독립성, 순응가는 협업 → 이해 필요`;
            improvementPlan = `90일 계획: [1-30일] 전문성 강화, [31-60일] 협업 기술 습득, [61-90일] 영향력 확대`;
            successMetrics = `성공 지표: 전문성 인정도, 프로젝트 완료율, 독립적 영향력`;
        }
    } else if (phase === 1) {
        // Phase 1: Stimulus Control Analysis
        if (maxScore === proactivity) {
            trait = "주도적 개입";
            description = "당신은 상황을 관망하기보다 직접 통제하고 변화시키려 합니다.";
            detailedAnalysis = `자극 제어 분석에서 주도성 점수 ${pPercent}% (${pPercentile})로 측정되었습니다. 외부 자극에 수동적으로 반응하기보다 능동적으로 상황을 주도하고 변화를 이끌어가는 성향이 강합니다. 위기나 불확실한 상황에서도 먼저 행동을 취하며, 리더십을 발휘하는 경향이 있습니다. 이러한 패턴은 뇌의 전두엽 실행 기능이 활발하게 작동하고 있음을 의미하며, 목표 지향적 행동과 의사결정 메커니즘이 잘 발달되어 있습니다.`;
            implications = "위기 관리, 프로젝트 리딩, 의사결정이 중요한 상황에서 강점을 발휘합니다. 팀이나 조직 내에서 변화를 주도하는 역할을 맡을 때 최고의 성과를 보입니다. 긴급 상황, 스타트업 환경, 리더십 포지션, 의사결정 권한이 필요한 모든 영역에서 두각을 나타냅니다.";
            strengths = "• 빠른 의사결정 능력\n• 상황 주도력과 리더십\n• 위기 대응 능력\n• 목표 지향적 행동\n• 행동력과 실행력\n• 압박 상황에서의 성과\n• 팀 동기부여 능력\n• 변화 주도력\n• 책임감";
            considerations = "빠른 의사결정이 장점이지만, 충분한 정보 수집 없이 성급하게 판단할 수 있습니다. 중요한 결정 앞에서는 한 걸음 물러서 전체 상황을 고려하는 시간을 갖는 것이 좋습니다. 팀원들의 의견을 충분히 수렴하고, 장기적 영향까지 고려하는 습관을 기르면 더 나은 리더가 될 수 있습니다.";
            psychologicalProfile = `심리학적으로 '행동 지향적(Action-Oriented)' 성격으로, 자극에 대한 반응이 빠르고 직접적입니다. 도파민 시스템이 목표 달성과 행동 실행에서 활성화되며, 불확실성보다는 확실한 행동에서 안정감을 느낍니다. 자기효능감이 높아 자신의 행동이 상황을 개선할 수 있다고 믿습니다.`;
            behavioralPatterns = `일상에서 새로운 상황이나 문제를 만나면 즉시 대응 방안을 모색하고 실행에 옮기는 경향이 강합니다. 회의나 토론에서도 적극적으로 의견을 제시하며, 의사결정이 필요한 순간에 주저하지 않고 선택합니다. 위기 상황에서도 침착함을 유지하며 다른 사람들을 이끌어가는 모습을 보입니다.`;
            neurologicalInsights = `신경과학적으로 전전두엽의 실행 기능과 운동 피질의 활동이 높습니다. 도파민 보상 경로가 목표 달성과 행동 실행에서 활성화되며, 노르에피네프린(각성 물질) 수치가 높아 빠른 반응이 가능합니다. 하지만 과도한 스트레스 상황에서는 감정 조절 영역(전대상피질)의 활동을 의식적으로 높이는 것이 필요합니다.`;
            relationshipDynamics = `관계에서는 리더십 역할을 자연스럽게 맡으며, 팀이나 그룹 내에서 결정을 내리는 위치에 서는 것을 선호합니다. 갈등 상황에서도 직접적으로 해결책을 제시하며, 타인의 감정보다는 효율적인 해결에 초점을 맞추는 경향이 있습니다.`;
            careerMatches = `• 프로젝트 매니저: 92%\n• 리더십 포지션: 90%\n• 위기 관리 전문가: 88%\n• 운영 관리자: 85%\n• 의사결정 보조: 83%`;
            dailyLifeApplication = `일상생활에서는 명확한 목표를 설정하고 단계별 실행 계획을 세우는 것이 효과적입니다. 중요한 결정은 신중하게 하되, 일상적인 결정은 빠르게 내리는 습관이 집중력을 높입니다. 운동이나 활동적인 취미가 잘 맞으며, 정기적인 리더십 역할(동호회, 모임 등)이 성장에 도움이 됩니다.`;
            developmentPath = `1단계: 실행력 강화\n2단계: 팀 리더십 개발\n3단계: 전략적 사고 향상`;
            expertRecommendations = `• "신중한 판단 훈련": 중요한 결정에는 '24시간 룰'을 적용해 충분히 고려하세요.\n• "팀 의견 수렴": 빠른 결정과 함께 팀원의 의견을 듣는 시간을 확보하세요.\n• "장기 비전 수립": 단기적 행동과 함께 장기적 목표를 유지하세요.`;
            caseStudyExample = `실제 사례: 프로젝트 위기 상황에서 팀을 이끌며 명확한 역할 분담과 빠른 의사결정으로 2주 만에 프로젝트를 정상화시킨 리더의 사례.`;
            riskFactors = `⚠️ 성급한 판단: 충분한 정보 없이 결정하면 실수할 수 있습니다.\n⚠️ 팀 의견 무시: 빠른 결정이 팀원의 피로로 이어질 수 있습니다.`;
            growthOpportunities = `📈 전략적 리더십: 실행력과 함께 장기 전략 수립 능력을 키우세요.`;
        } else if (maxScore === adaptability) {
            trait = "유연한 적응";
            description = "당신은 상황의 변화에 맞춰 자신을 빠르게 변화시킵니다.";
            detailedAnalysis = `적응력 점수 ${aPercent}% (${aPercentile})로 가장 높게 나타났습니다. 외부 자극이나 환경 변화에 유연하게 대응하며, 고정된 패턴보다는 상황에 맞는 최적의 대응 방식을 선택합니다. 변화를 두려워하지 않고 오히려 새로운 상황을 기회로 삼는 성향이 있습니다. 신경과학적으로는 전전두엽의 인지 유연성과 변환 기능이 발달해 있어, 상황 변화에 빠르게 재구성할 수 있는 능력이 뛰어납니다.`;
            implications = "변화가 빠른 업무 환경, 다양한 프로젝트를 다루는 업무, 스타트업, 혁신 조직에서 최고의 성과를 발휘합니다. 마케팅, 비즈니스 개발, 컨설팅, 고객 관계 등 다양한 상황에서 적응하는 업무에 적합합니다.";
            strengths = "• 환경 변화 적응력\n• 유연한 사고와 행동\n• 빠른 학습 능력\n• 다양한 상황 대처\n• 실용적 문제 해결\n• 스트레스 탄력성\n• 다중 작업 능력\n• 학습 곡선이 빠름";
            considerations = "너무 많은 변화에 적응하려다 보면 일관성 없는 이미지를 줄 수 있습니다. 장기적인 목표와 원칙을 유지하면서 유연성을 발휘하는 균형이 중요합니다. 깊이 있는 전문성 개발을 위해 특정 분야에 집중하는 시간도 필요합니다.";
            psychologicalProfile = `'유연성(Flexibility)'과 '개방성(Openness)'이 높은 성격 프로필입니다. 변화를 위협이 아닌 기회로 인식하며, 고정관념보다는 실험과 학습을 통해 성장합니다.`;
            behavioralPatterns = `새로운 정보나 환경에 빠르게 적응하며, 여러 프로젝트를 동시에 진행하는 것을 두려워하지 않습니다. 계획이 바뀌어도 쉽게 받아들이며, 대안을 빠르게 모색합니다.`;
            neurologicalInsights = `뇌의 인지 유연성 관련 영역(특히 전두엽-두정엽 연결)이 활발하며, 새로운 정보 처리 속도가 빠릅니다.`;
            relationshipDynamics = `관계에서도 유연한 태도를 보이며, 다양한 사람들과 잘 어울립니다. 갈등보다는 조화를 선호하며, 타인의 의견을 수용하는 경향이 있습니다.`;
            careerMatches = `• 비즈니스 개발: 90%\n• 마케팅/광고: 88%\n• 컨설턴트: 85%\n• 이벤트 기획: 83%`;
            dailyLifeApplication = `다양한 활동에 참여하고 새로운 경험을 쌓는 것이 에너지를 줍니다. 하지만 정기적인 리뷰 시간을 갖고 장기 목표를 점검하는 습관이 중요합니다.`;
            developmentPath = `1단계: 적응력 활용\n2단계: 전문성 강화\n3단계: 리더십 개발`;
            expertRecommendations = `• "깊이와 너비의 균형": 다양한 경험과 함께 한 분야를 깊이 있게 학습하세요.\n• "핵심 가치 정립": 변화에 맞추되 변하지 않는 핵심 가치를 명확히 하세요.`;
            caseStudyExample = `다양한 프로젝트에 유연하게 대응하며 성공한 컨설턴트의 사례.`;
            riskFactors = `⚠️ 일관성 부족: 너무 자주 변화하면 신뢰도가 떨어질 수 있습니다.`;
            growthOpportunities = `📈 혁신 주도자: 적응력을 활용해 조직의 혁신을 이끌어가세요.`;
        } else {
            trait = "거리두기/관찰";
            description = "당신은 즉각적으로 반응하기보다 한 발 물러서서 상황을 분석합니다.";
            detailedAnalysis = `사회적 거리감 ${sdPercent}% (${sdPercentile})가 높게 나타나, 자극에 대해 즉각 반응하기보다 객관적 거리를 두고 관찰하는 경향이 강합니다. 감정적 동요를 최소화하고 논리적 분석을 우선시하며, 충동적 결정보다는 신중한 판단을 선호합니다. 이러한 접근은 뇌의 전전두엽 조절 기능과 편도체(감정 반응) 사이의 연결이 잘 발달되어 있어 감정적 반응을 지연시킬 수 있는 능력을 보여줍니다.`;
            implications = "분석적 업무, 연구, 전략 수립, 데이터 분석, 품질 관리 등 신중한 접근이 필요한 영역에서 강점을 발휘합니다. 객관적 판단이 중요한 의사결정 보조자, 분석가, 연구원 역할에 적합합니다.";
            strengths = "• 객관적 분석 능력\n• 신중한 의사결정\n• 감정 조절 능력\n• 전략적 사고\n• 집중력과 관찰력\n• 정확성과 완성도\n• 리스크 평가 능력\n• 데이터 기반 판단";
            considerations = "너무 신중한 접근이 기회를 놓칠 수 있습니다. 때로는 빠른 판단과 행동이 필요할 때가 있으니, 중요한 순간에는 적절한 속도감을 갖는 것도 중요합니다. 팀 작업에서는 적극적인 소통과 의견 표현이 필요합니다.";
            psychologicalProfile = `'분석적 사고(Analytical Thinking)'와 '신중성(Conscientiousness)'이 높은 성격 프로필입니다. 감정보다 논리를 우선시하며, 충동보다는 계획과 분석을 선호합니다.`;
            behavioralPatterns = `중요한 결정 앞에서 충분한 시간을 두고 정보를 수집하며, 여러 대안을 비교 분석합니다. 감정적 상황에서도 냉정함을 유지하고 객관적 판단을 합니다.`;
            neurologicalInsights = `전전두엽의 인지 조절 기능과 감정 조절 영역(전대상피질)의 활동이 높아, 감정적 반응을 억제하고 논리적 사고를 유지할 수 있습니다.`;
            relationshipDynamics = `관계에서 감정적 몰입보다는 적절한 거리를 유지하며, 논리적 소통을 선호합니다. 갈등 상황에서는 객관적 분석을 통해 해결책을 찾습니다.`;
            careerMatches = `• 데이터 분석가: 92%\n• 연구원: 90%\n• 전략 컨설턴트: 88%\n• 품질 관리: 85%`;
            dailyLifeApplication = `중요한 결정은 충분한 시간을 두고 신중하게 하되, 일상적 결정은 합리적 기준을 세워 빠르게 처리하는 연습이 필요합니다.`;
            developmentPath = `1단계: 분석 능력 심화\n2단계: 의사결정 속도 향상\n3단계: 전략적 실행력 개발`;
            expertRecommendations = `• "80% 정보 룰": 완벽한 정보를 기다리지 말고 80% 정보로도 결정할 수 있는 기준을 세우세요.\n• "액션 바이어스": 분석과 함께 실행의 중요성을 인식하세요.`;
            caseStudyExample = `신중한 분석을 통해 위험을 사전에 발견하고 대응한 프로젝트 매니저의 사례.`;
            riskFactors = `⚠️ 기회 상실: 너무 신중하여 빠르게 움직여야 할 때를 놓칠 수 있습니다.`;
            growthOpportunities = `📈 전략적 리더: 분석 능력을 활용해 장기 전략을 수립하는 리더로 성장하세요.`;
        }
    } else {
        // Phase 2: Psychological Resistance Analysis
        if (maxScore === proactivity) {
            trait = "주도적 개입";
            description = "당신은 심리적 저항을 능동적으로 극복하고 주도권을 잡습니다.";
            detailedAnalysis = `심리적 저항 분석에서 주도성 ${pPercent}% (${pPercentile})로 측정되었습니다. 어려움이나 스트레스 상황에서도 포기하지 않고 능동적으로 문제를 해결하려는 의지가 강합니다. 심리적 부담을 회피하기보다 직접 마주하고 해결하려는 성향이 두드러집니다. 이러한 패턴은 뇌의 전전두엽 회로가 스트레스 상황에서도 목표 지향적 행동을 유지할 수 있음을 의미합니다. 코르티솔(스트레스 호르몬)이 오히려 동기 부여로 작용하는 체질을 가지고 있어, 압박 상황에서 오히려 더 잘 작동합니다.`;
            implications = "도전적인 프로젝트, 높은 압박 환경, 리더십 포지션, 책임이 큰 역할에서 최고의 성과를 발휘합니다. 스타트업, 경영진, 프로젝트 리더, 위기 관리 전문가 등 높은 스트레스가 있는 환경에서 자신의 역량을 발휘할 수 있습니다.";
            strengths = "• 강한 의지력과 추진력\n• 스트레스 대응 능력\n• 목표 지향적 태도\n• 자기 주도적 동기\n• 회복력과 끈기\n• 압박 상황에서의 집중력\n• 장애물 극복 능력\n• 목표 달성 의지\n• 회복 탄력성";
            considerations = "끊임없는 추진력이 장점이지만, 지나친 스트레스는 번아웃으로 이어질 수 있습니다. 적절한 휴식과 회복 시간을 갖는 것이 장기적인 성과를 위해 중요합니다. 팀원들도 같은 속도로 따라오지 못할 수 있으니, 타인의 한계를 이해하는 것도 필요합니다.";
            psychologicalProfile = `'회복 탄력성(Resilience)'과 '자기 효능감(Self-Efficacy)'이 매우 높은 성격 프로필입니다. 스트레스를 위협보다 도전으로 인식하며, 자신의 능력에 대한 확신이 강합니다.`;
            behavioralPatterns = `어려운 상황에서도 포기하지 않고 끝까지 추진하는 경향이 강합니다. 스트레스가 높을수록 더 집중하며, 목표 달성을 위해 시간과 에너지를 투자합니다. 장애물을 만나면 다양한 방법을 시도하며 해결책을 찾습니다.`;
            neurologicalInsights = `스트레스 반응 시스템(시상하부-뇌하수체-부신축)이 효율적으로 작동하며, 코르티솔이 과도하게 분비되지 않고 적절한 수준에서 동기를 유지합니다.`;
            relationshipDynamics = `관계에서는 리더십을 발휘하며, 팀원들이 어려움에 처했을 때 이끌어주는 역할을 합니다. 자신의 높은 기준을 타인에게도 적용하려는 경향이 있어 주의가 필요합니다.`;
            careerMatches = `• 경영진/리더십: 92%\n• 프로젝트 리더: 90%\n• 위기 관리 전문가: 88%\n• 스타트업 창업가: 85%`;
            dailyLifeApplication = `명확한 목표를 설정하고 단계별 실행 계획을 세우는 것이 중요합니다. 휴식 시간도 계획에 포함시키고, 스트레스 관리 운동(요가, 명상 등)이 도움이 됩니다.`;
            developmentPath = `1단계: 추진력 강화\n2단계: 팀 동기부여 개발\n3단계: 전략적 스트레스 관리`;
            expertRecommendations = `• "회복 시간 확보": 무한 추진보다 의도적인 휴식이 장기적 성과를 높입니다.\n• "타인 이해": 당신의 속도를 모든 사람이 따라올 수 없음을 인식하세요.\n• "스트레스 관리": 정기적인 체크인으로 번아웃을 예방하세요.`;
            caseStudyExample = `위기 상황에서 팀을 이끌며 어려움을 극복한 프로젝트 리더의 사례.`;
            riskFactors = `⚠️ 번아웃: 지속적인 스트레스는 만성 피로로 이어질 수 있습니다.\n⚠️ 팀 이탈: 높은 기준이 팀원들의 부담이 될 수 있습니다.`;
            growthOpportunities = `📈 전략적 리더: 실행력과 함께 장기 전략 수립 능력을 키우세요.`;
        } else if (maxScore === adaptability) {
            trait = "유연한 적응";
            description = "당신은 저항을 회피하거나 우회하여 새로운 방법을 찾습니다.";
            detailedAnalysis = `적응력 ${aPercent}% (${aPercentile})가 높게 나타나, 심리적 저항이나 장애물을 만났을 때 고정된 방법에 매달리지 않고 유연하게 대처합니다. 벽을 부수기보다 우회로를 찾거나 새로운 접근 방식을 시도하는 지혜를 갖추고 있습니다. 이는 인지 유연성과 문제 해결 전략의 다양성이 발달했음을 의미하며, 고정관념에 얽매이지 않고 다양한 관점에서 해결책을 모색할 수 있습니다.`;
            implications = "복잡한 문제, 장애물이 많은 상황, 변화가 빠른 환경에서 창의적 해결책을 찾아냅니다. 비즈니스 개발, 마케팅, 컨설팅, 디자인 등 유연한 접근이 필요한 업무에서 뛰어난 역량을 발휘합니다.";
            strengths = "• 창의적 문제 해결\n• 유연한 사고 전환\n• 스트레스 완화 능력\n• 대안 탐색 능력\n• 긍정적 마인드셋\n• 우회 전략\n• 리프레이밍 능력\n• 빠른 전환";
            considerations = "너무 쉽게 우회하려는 경향이 핵심 문제를 해결하지 못할 수 있습니다. 때로는 직접적인 대면과 해결이 필요한 상황을 구분하는 것이 중요합니다. 근본 원인을 해결하지 못하면 같은 문제가 반복될 수 있습니다.";
            psychologicalProfile = `'인지 유연성(Cognitive Flexibility)'과 '문제 중심 대처(Problem-Focused Coping)'가 높은 성격 프로필입니다.`;
            behavioralPatterns = `어려움을 만나면 즉시 대안을 모색하며, 한 방법이 안 되면 다른 방법을 시도합니다. 감정적 반응보다는 실용적 해결책에 초점을 맞춥니다.`;
            neurologicalInsights = `뇌의 인지 유연성 관련 네트워크가 발달해 있으며, 전전두엽의 실행 전환 기능이 활발합니다.`;
            relationshipDynamics = `관계에서도 유연한 태도로 갈등을 회피하거나 조율하며, 실용적 해결책을 찾습니다.`;
            careerMatches = `• 비즈니스 개발: 90%\n• 마케팅 전략가: 88%\n• 컨설턴트: 85%\n• 디자이너: 83%`;
            dailyLifeApplication = `유연성을 활용하되, 중요한 문제는 근본 원인을 해결하는 습관을 기르세요.`;
            developmentPath = `1단계: 유연성 활용\n2단계: 근본 원인 분석 능력\n3단계: 전략적 문제 해결`;
            expertRecommendations = `• "근본 원인 분석": 우회 전에 핵심 문제를 파악하는 습관을 기르세요.\n• "직접 대면": 때로는 어려운 대화를 해야 할 때도 있습니다.`;
            caseStudyExample = `유연한 접근으로 난관을 극복한 비즈니스 개발 매니저의 사례.`;
            riskFactors = `⚠️ 표면적 해결: 근본 원인을 다루지 않으면 문제가 재발할 수 있습니다.`;
            growthOpportunities = `📈 혁신적 문제 해결자: 유연성과 근본 분석을 결합한 전문가로 성장하세요.`;
        } else {
            trait = "거리두기/관찰";
            description = "당신은 저항을 감지하면 물러서서 상황을 재평가합니다.";
            detailedAnalysis = `사회적 거리감 ${sdPercent}% (${sdPercentile})가 높게 나타나, 심리적 저항이나 갈등 상황을 만났을 때 감정적으로 몰입하기보다 거리를 두고 객관적으로 상황을 분석합니다. 즉각적인 반응보다 신중한 판단을 통해 최적의 타이밍과 방법을 선택합니다. 이는 감정 조절 능력과 인지적 재평가 전략이 발달했음을 의미하며, 스트레스 상황에서도 냉정함을 유지할 수 있습니다.`;
            implications = "갈등, 복잡한 상황, 전략적 접근이 필요한 환경에서 최선의 해결책을 모색합니다. 중재자, 조정자, 전략가, 분석가 역할에 적합하며, 냉정한 판단이 필요한 업무에서 강점을 발휘합니다.";
            strengths = "• 냉정한 판단력\n• 갈등 회피 능력\n• 전략적 사고\n• 감정 조절\n• 객관적 평가 능력\n• 상황 재평가 능력\n• 최적 타이밍 선택\n• 리스크 관리";
            considerations = "너무 물러서면 문제 해결 기회를 놓칠 수 있습니다. 필요한 순간에는 적극적으로 개입하고 자신의 의견을 표현하는 것도 중요합니다. 전략적 거리두기와 소극적 회피를 구분해야 합니다.";
            psychologicalProfile = `'감정 조절(Emotion Regulation)'과 '인지적 재평가(Cognitive Reappraisal)' 능력이 높은 성격 프로필입니다.`;
            behavioralPatterns = `갈등이나 스트레스 상황에서 즉각 반응하지 않고, 시간을 두고 재평가합니다. 감정보다 논리로 상황을 분석하며, 최적의 개입 시점을 선택합니다.`;
            neurologicalInsights = `전전두엽의 감정 조절 영역과 편도체(감정 반응) 간의 연결이 강해, 감정적 반응을 억제할 수 있습니다.`;
            relationshipDynamics = `관계에서도 감정적 몰입보다 거리를 두며, 논리적 접근으로 문제를 해결합니다.`;
            careerMatches = `• 중재자/조정자: 92%\n• 전략 컨설턴트: 90%\n• 분석가: 88%\n• 리스크 관리: 85%`;
            dailyLifeApplication = `신중한 판단과 함께 필요한 순간에 개입하는 용기를 기르는 것이 중요합니다.`;
            developmentPath = `1단계: 분석 능력 강화\n2단계: 적극적 개입 연습\n3단계: 전략적 리더십`;
            expertRecommendations = `• "액션 바이어스": 분석과 함께 실행의 용기를 갖으세요.\n• "타이밍 감각": 최적의 개입 시점을 판단하는 감각을 기르세요.`;
            caseStudyExample = `신중한 판단과 전략적 개입으로 복잡한 갈등을 해결한 중재자의 사례.`;
            riskFactors = `⚠️ 소극성: 너무 물러서면 영향력을 행사할 기회를 놓칠 수 있습니다.`;
            growthOpportunities = `📈 전략적 리더: 분석 능력을 바탕으로 한 전략적 리더십을 개발하세요.`;
        }
    }

    return {
        dominantTrait: trait,
        description: description,
        detailedAnalysis: detailedAnalysis || "",
        implications: implications || "",
        strengths: strengths || "",
        considerations: considerations || "",
        psychologicalProfile: psychologicalProfile || "",
        behavioralPatterns: behavioralPatterns || "",
        neurologicalInsights: neurologicalInsights || "",
        relationshipDynamics: relationshipDynamics || "",
        careerMatches: careerMatches || "",
        dailyLifeApplication: dailyLifeApplication || "",
        developmentPath: developmentPath || "",
        expertRecommendations: expertRecommendations || "",
        caseStudyExample: caseStudyExample || "",
        riskFactors: riskFactors || "",
        growthOpportunities: growthOpportunities || "",
        learningStyle: learningStyle || "",
        communicationStyle: communicationStyle || "",
        leadershipStyle: leadershipStyle || "",
        stressResponsePattern: stressResponsePattern || "",
        decisionMakingStyle: decisionMakingStyle || "",
        teamworkCharacteristics: teamworkCharacteristics || "",
        growthStageGuide: growthStageGuide || "",
        practicalScenarios: practicalScenarios || "",
        comparisonAnalysis: comparisonAnalysis || "",
        improvementPlan: improvementPlan || "",
        successMetrics: successMetrics || "",
        scores: { proactivity, adaptability, socialDistance },
        percentages: { proactivity: pPercent, adaptability: aPercent, socialDistance: sdPercent },
        percentiles: { proactivity: pPercentile, adaptability: aPercentile, socialDistance: sdPercentile }
    };
}
